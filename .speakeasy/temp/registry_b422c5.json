{"openapi":"3.0.1","info":{"title":"Metronome","version":"1.0.0"},"servers":[{"url":"https://api.metronome.com/v1","description":"Production server"}],"paths":{"/customers/setBillableStatus":{"post":{"description":"Set a customer's billable status. This endpoint's availability is dependent on your client's configuration.","operationId":"setCustomerBillableStatus","summary":"Set customer billable status","tags":["Contracts"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["customer_id","billable_status","effective_at"],"properties":{"customer_id":{"type":"string","format":"uuid"},"billable_status":{"type":"string","enum":["billable","unbillable"]},"effective_at":{"type":"string","format":"date-time"}}}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"object","required":["id","current_billable_status"],"properties":{"id":{"type":"string","format":"uuid"},"current_billable_status":{"type":"string","enum":["billable","unbillable"]}}}}},"example":{"data":{"id":"8deed800-1b7a-495d-a207-6c52bac54dc9","current_billable_status":"billable"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/invoices/regenerate":{"post":{"description":"Regenerate a voided contract invoice","operationId":"regenerateInvoice","summary":"Regenerate an invoice","requestBody":{"description":"The invoice id to regenerate","content":{"application/json":{"schema":{"type":"object","required":["id"],"properties":{"id":{"description":"The invoice id to regenerate","type":"string","format":"uuid"}}},"example":{"id":"6a37bb88-8538-48c5-b37b-a41c836328bd"}}}},"tags":["Invoices"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid","description":"The new invoice id"}}}}},"example":{"data":{"id":"6a37bb88-8538-48c5-b37b-a41c836328bd"}}}}}}}},"/contract-pricing/products/get":{"post":{"description":"Get a specific product\n","operationId":"getProduct","summary":"Get a product","tags":["Contracts"],"requestBody":{"description":"The ID of the product to get","content":{"application/json":{"schema":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}},"example":{"id":"d84e7f4e-7a70-4fe4-be02-7a5027beffcc"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"object","required":["id","type","initial","current","updates"],"properties":{"id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["USAGE","SUBSCRIPTION","COMPOSITE","FIXED","PRO_SERVICE"]},"archived_at":{"type":"string","format":"date-time","nullable":true},"initial":{"type":"object","required":["name","created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"composite_tags":{"type":"array","items":{"type":"string"}},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration."},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"current":{"type":"object","required":["name","created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"composite_tags":{"type":"array","items":{"type":"string"}},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration."},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"updates":{"type":"array","items":{"type":"object","required":["created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"is_refundable":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"billable_metric_id":{"type":"string","format":"uuid"},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"composite_tags":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}}},"custom_fields":{"x-cf-entity":"contract_product","type":"object","additionalProperties":{"type":"string"}}}}}},"example":{"data":{"id":"9c9a4a71-171e-41f9-b8da-d982baf1a388","type":"COMPOSITE","initial":{"name":"My Composite Product","starting_at":"2020-01-01T00:00:00.000Z","composite_product_ids":["e5e40bc7-ef69-42ec-a77e-cd696f6bfa3d"],"created_at":"2019-12-30T04:24:55.123Z","created_by":"Bob"},"current":{"name":"My Updated Composite Product Name","starting_at":"2020-01-01T00:00:00.000Z","composite_product_ids":["e5e40bc7-ef69-42ec-a77e-cd696f6bfa3d"],"created_at":"2019-12-30T04:24:55.123Z","created_by":"Bob"},"updates":[{"name":"My Updated Composite Product Name","starting_at":"2020-02-01T00:00:00.000Z","created_at":"2019-12-30T09:24:55.123Z","created_by":"Alice"}],"custom_fields":{"x_account_id":"KyVnHhSBWl7eY2bl"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/products/list":{"post":{"description":"List products\n","operationId":"listProducts","summary":"List products","parameters":[{"name":"limit","in":"query","description":"Max number of results that should be returned","required":false,"schema":{"type":"integer","minimum":1,"maximum":100}},{"name":"next_page","in":"query","description":"Cursor that indicates where the next page of results should start.","required":false,"schema":{"type":"string"}}],"tags":["Contracts"],"requestBody":{"description":"Get list of products","content":{"application/json":{"schema":{"type":"object","properties":{"archive_filter":{"type":"string","enum":["ARCHIVED","NOT_ARCHIVED","ALL"],"description":"Filter options for the product list"}}},"example":{"archive_filter":"NOT_ARCHIVED"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data","next_page"],"properties":{"data":{"type":"array","items":{"type":"object","required":["id","type","initial","current","updates"],"properties":{"id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["USAGE","SUBSCRIPTION","COMPOSITE","FIXED","PRO_SERVICE"]},"archived_at":{"type":"string","format":"date-time","nullable":true},"initial":{"type":"object","required":["name","created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"composite_tags":{"type":"array","items":{"type":"string"}},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration."},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"current":{"type":"object","required":["name","created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"composite_tags":{"type":"array","items":{"type":"string"}},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration."},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"updates":{"type":"array","items":{"type":"object","required":["created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"is_refundable":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"billable_metric_id":{"type":"string","format":"uuid"},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"composite_tags":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}}},"custom_fields":{"x-cf-entity":"contract_product","type":"object","additionalProperties":{"type":"string"}}}}},"next_page":{"type":"string","nullable":true}}},"example":{"data":[{"id":"9c9a4a71-171e-41f9-b8da-d982baf1a388","type":"COMPOSITE","archived_at":null,"initial":{"name":"My Composite Product","starting_at":"2020-01-01T00:00:00.000Z","composite_product_ids":["e5e40bc7-ef69-42ec-a77e-cd696f6bfa3d"],"created_at":"2019-12-30T04:24:55.123Z","created_by":"Bob"},"current":{"name":"My Updated Composite Product Name","starting_at":"2020-01-01T00:00:00.000Z","composite_product_ids":["e5e40bc7-ef69-42ec-a77e-cd696f6bfa3d"],"created_at":"2019-12-30T04:24:55.123Z","created_by":"Bob"},"updates":[{"name":"My Updated Composite Product Name","starting_at":"2020-02-01T00:00:00.000Z","created_at":"2019-12-30T09:24:55.123Z","created_by":"Alice"}],"custom_fields":{"x_account_id":"KyVnHhSBWl7eY2bl"}}],"next_page":null}}}}}}},"/contract-pricing/products/create":{"post":{"description":"Create a new product\n","operationId":"createProduct","summary":"Create a product","tags":["Contracts"],"requestBody":{"description":"Create a new product","content":{"application/json":{"schema":{"type":"object","required":["name","type"],"properties":{"name":{"type":"string","description":"displayed on invoices"},"type":{"type":"string","enum":["FIXED","fixed","USAGE","usage","COMPOSITE","composite","SUBSCRIPTION","subscription","PROFESSIONAL_SERVICE","professional_service","PRO_SERVICE","pro_service"]},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string","format":"uuid","description":"Required for USAGE products"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Required for COMPOSITE products"},"composite_tags":{"type":"array","items":{"type":"string"},"description":"Required for COMPOSITE products"},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration. Defaults to true"},"exclude_free_usage":{"type":"boolean","description":"Beta feature only available for composite products. If true, products with $0 will not be included when computing composite usage. Defaults to false"},"tags":{"type":"array","items":{"type":"string"}},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}}}},"example":{"name":"My Product","type":"USAGE","billable_metric_id":"13117714-3f05-48e5-a6e9-a66093f13b4d"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/products/update":{"post":{"description":"Update a product\n","operationId":"updateProduct","summary":"Update a product","tags":["Contracts"],"requestBody":{"description":"Update a product","content":{"application/json":{"schema":{"type":"object","required":["product_id","starting_at"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to update"},"name":{"type":"string","description":"displayed on invoices. If not provided, defaults to product's current name."},"starting_at":{"type":"string","format":"date-time","description":"Timestamp representing when the update should go into effect. It must be on an hour boundary (e.g. 1:00, not 1:30)."},"is_refundable":{"type":"boolean","description":"Defaults to product's current refundability status. This field's availability is dependent on your client's configuration."},"exclude_free_usage":{"type":"boolean","description":"Beta feature only available for composite products. If true, products with $0 will not be included when computing composite usage. Defaults to false"},"billable_metric_id":{"type":"string","format":"uuid","description":"Available for USAGE products only. If not provided, defaults to product's current billable metric."},"netsuite_internal_item_id":{"type":"string","description":"If not provided, defaults to product's current netsuite_internal_item_id. This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"Available for USAGE and COMPOSITE products only. If not provided, defaults to product's current netsuite_overage_item_id. This field's availability is dependent on your client's configuration."},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Available for COMPOSITE products only. If not provided, defaults to product's current composite_product_ids."},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"tags":{"type":"array","items":{"type":"string"},"description":"If not provided, defaults to product's current tags"},"composite_tags":{"type":"array","items":{"type":"string"},"description":"Available for COMPOSITE products only. If not provided, defaults to product's current composite_tags."},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"example":{"product_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","name":"My Updated Product","starting_at":"2020-01-01T00:00:00.000Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/products/archive":{"post":{"description":"Archive a product\n","operationId":"archiveProductListItem","summary":"Archive a product","tags":["Contracts"],"requestBody":{"description":"Archive a product","content":{"application/json":{"schema":{"type":"object","required":["product_id"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to be archived"}}},"example":{"product_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/rate-cards/getRateSchedule":{"post":{"description":"Get a specific rate schedule including all rate card entries\n","operationId":"getRateSchedule","summary":"Get a rate schedule","parameters":[{"name":"limit","in":"query","description":"Max number of results that should be returned","required":false,"schema":{"type":"integer","minimum":1,"maximum":100}},{"name":"next_page","in":"query","description":"Cursor that indicates where the next page of results should start.","required":false,"schema":{"type":"string"}}],"tags":["Contracts"],"requestBody":{"description":"Rate schedule filter options.","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id","starting_at"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to get the schedule for"},"starting_at":{"type":"string","format":"date-time","description":"inclusive starting point for the rates schedule"},"ending_before":{"type":"string","format":"date-time","description":"optional exclusive end date for the rates schedule. When not specified rates will show all future schedule segments."},"selectors":{"description":"List of rate selectors, rates matching ANY of the selector will be included in the response Passing no selectors will result in all rates being returned.","type":"array","items":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}}}}},"example":{"rate_card_id":"f3d51ae8-f283-44e1-9933-a3cf9ad7a6fe","starting_at":"2024-01-01T00:00:00.000Z","selectors":[{"product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","partial_pricing_group_values":{"region":"us-west-2","cloud":"aws"}}]}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"next_page":{"type":"string","nullable":true},"data":{"type":"array","items":{"type":"object","required":["product_id","product_name","product_tags","starting_at","entitled","rate"],"properties":{"product_id":{"type":"string","format":"uuid"},"product_name":{"type":"string"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}}}}}}}}}}}},"/contract-pricing/rate-cards/getRates":{"post":{"description":"Get rate card rates for a specific time.\n","operationId":"getRates","summary":"Get rates","parameters":[{"name":"limit","in":"query","description":"Max number of results that should be returned","required":false,"schema":{"type":"integer","minimum":1,"maximum":100}},{"name":"next_page","in":"query","description":"Cursor that indicates where the next page of results should start.","required":false,"schema":{"type":"string"}}],"tags":["Contracts"],"requestBody":{"description":"Rate schedule filter options.","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id","at"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to get the schedule for"},"at":{"type":"string","format":"date-time","description":"inclusive starting point for the rates schedule"},"selectors":{"description":"List of rate selectors, rates matching ANY of the selector will be included in the response Passing no selectors will result in all rates being returned.","type":"array","items":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"product_tags":{"description":"List of product tags, rates matching any of the tags will be included in the response.","type":"array","items":{"type":"string"}},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}}}}},"example":{"rate_card_id":"f3d51ae8-f283-44e1-9933-a3cf9ad7a6fe","at":"2024-01-01T00:00:00.000Z","selectors":[{"product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","partial_pricing_group_values":{"region":"us-west-2","cloud":"aws"}}]}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"next_page":{"type":"string","nullable":true},"data":{"type":"array","items":{"type":"object","required":["product_id","product_name","product_tags","starting_at","entitled","rate"],"properties":{"product_id":{"type":"string","format":"uuid"},"product_name":{"type":"string"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}}}}}}}}}}}},"/contract-pricing/rate-cards/get":{"post":{"description":"Get a specific rate card\n","operationId":"getRateCard","summary":"Get a rate card","tags":["Contracts"],"requestBody":{"description":"The ID of the rate card to get","content":{"application/json":{"schema":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}},"example":{"id":"f3d51ae8-f283-44e1-9933-a3cf9ad7a6fe"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"object","required":["id","name","rate_card_entries","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"rate_card_entries":{"type":"object","additionalProperties":{"type":"object","properties":{"current":{"type":"object","nullable":true,"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}},"updates":{"type":"array","items":{"type":"object","required":["id","product_id","rate_type","starting_at","entitled","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"quantity":{"type":"number"},"is_prorated":{"type":"boolean"},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}}}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"description":{"type":"string"},"fiat_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_type_conversions":{"type":"array","items":{"required":["fiat_per_custom_credit","custom_credit_type"],"type":"object","properties":{"fiat_per_custom_credit":{"type":"string"},"custom_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"aliases":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}},"custom_fields":{"x-cf-entity":"rate_card","type":"object","additionalProperties":{"type":"string"}}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","name":"Test rate card","description":"Test rate card description","fiat_credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"rate_card_entries":{"d6300dbb-882e-4d2d-8dec-5125d16b65d0":{"current":{"id":"7ccf1421-dcf8-408e-9174-0c314113ad3b","product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","rate_type":"FLAT","price":1000,"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"entitled":true,"starting_at":"2020-01-01T00:00:00Z","created_at":"2019-12-30T04:25:55.123Z","created_by":"Bob"},"updates":[{"id":"7ccf1421-dcf8-408e-9174-0c314113ad3b","product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","rate_type":"FLAT","price":1000,"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"entitled":true,"starting_at":"2020-01-01T00:00:00Z","created_at":"2019-12-30T04:25:55.123Z","created_by":"Bob"},{"id":"43d12d0a-89c2-46d3-b019-ed3678a0e121","product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","rate_type":"FLAT","credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"price":2000,"entitled":true,"starting_at":"2020-05-01T00:00:00Z","created_at":"2019-12-30T04:27:55.123Z","created_by":"Bob"}]},"ac46d3cc-ad44-45b1-8dfb-e19d97872b32":{"current":null,"updates":[{"id":"1efdf770-4c8a-43e3-9f50-fc9c8059bf05","product_id":"ac46d3cc-ad44-45b1-8dfb-e19d97872b32","rate_type":"PERCENTAGE","price":0.1,"entitled":true,"starting_at":"2020-05-01T00:00:00Z","created_at":"2019-12-30T04:26:55.123Z","created_by":"Alice"}]}},"created_at":"2019-12-30T04:24:55.123Z","created_by":"Bob","aliases":[{"name":"test-rate-card"}],"custom_fields":{"x_account_id":"KyVnHhSBWl7eY2bl"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/rate-cards/list":{"post":{"description":"List rate cards\n","operationId":"listRateCards","summary":"List rate cards","parameters":[{"name":"limit","in":"query","description":"Max number of results that should be returned","required":false,"schema":{"type":"integer","minimum":1,"maximum":100}},{"name":"next_page","in":"query","description":"Cursor that indicates where the next page of results should start.","required":false,"schema":{"type":"string"}}],"tags":["Contracts"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":false},"example":{}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data","next_page"],"properties":{"data":{"type":"array","items":{"type":"object","required":["id","name","rate_card_entries","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"rate_card_entries":{"type":"object","additionalProperties":{"type":"object","properties":{"current":{"type":"object","nullable":true,"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}},"updates":{"type":"array","items":{"type":"object","required":["id","product_id","rate_type","starting_at","entitled","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"quantity":{"type":"number"},"is_prorated":{"type":"boolean"},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}}}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"description":{"type":"string"},"fiat_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_type_conversions":{"type":"array","items":{"required":["fiat_per_custom_credit","custom_credit_type"],"type":"object","properties":{"fiat_per_custom_credit":{"type":"string"},"custom_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"aliases":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}},"custom_fields":{"x-cf-entity":"rate_card","type":"object","additionalProperties":{"type":"string"}}}}},"next_page":{"type":"string","nullable":true}}},"example":{"data":[{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","name":"Test rate card","description":"Test rate card description","fiat_credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"rate_card_entries":{"d6300dbb-882e-4d2d-8dec-5125d16b65d0":{"current":{"id":"7ccf1421-dcf8-408e-9174-0c314113ad3b","product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","rate_type":"FLAT","price":1000,"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"entitled":true,"starting_at":"2020-01-01T00:00:00Z","created_at":"2019-12-30T04:25:55.123Z","created_by":"Bob"},"updates":[{"id":"7ccf1421-dcf8-408e-9174-0c314113ad3b","product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","rate_type":"FLAT","price":1000,"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"entitled":true,"starting_at":"2020-01-01T00:00:00Z","created_at":"2019-12-30T04:25:55.123Z","created_by":"Bob"},{"id":"43d12d0a-89c2-46d3-b019-ed3678a0e121","product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","rate_type":"FLAT","price":2000,"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"entitled":true,"starting_at":"2020-05-01T00:00:00Z","created_at":"2019-12-30T04:27:55.123Z","created_by":"Bob"}]},"ac46d3cc-ad44-45b1-8dfb-e19d97872b32":{"current":null,"updates":[{"id":"1efdf770-4c8a-43e3-9f50-fc9c8059bf05","product_id":"ac46d3cc-ad44-45b1-8dfb-e19d97872b32","rate_type":"PERCENTAGE","price":0.1,"entitled":true,"starting_at":"2020-05-01T00:00:00Z","created_at":"2019-12-30T04:26:55.123Z","created_by":"Alice"}]}},"created_at":"2019-12-30T04:24:55.123Z","created_by":"Bob","aliases":[],"custom_fields":{"x_account_id":"KyVnHhSBWl7eY2bl"}}],"next_page":null}}}}}}},"/contract-pricing/rate-cards/create":{"post":{"description":"Create a new rate card\n","operationId":"createRateCard","summary":"Create a rate card","tags":["Contracts"],"requestBody":{"description":"Create a new rate card","content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"description":{"type":"string"},"fiat_credit_type_id":{"type":"string","format":"uuid","example":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","description":"\"The Metronome ID of the credit type to associate with the rate card, defaults to USD (cents) if not passed.\""},"credit_type_conversions":{"type":"array","items":{"type":"object","required":["custom_credit_type_id","fiat_per_custom_credit"],"properties":{"custom_credit_type_id":{"type":"string","format":"uuid"},"fiat_per_custom_credit":{"type":"number"}}},"description":"Required when using custom pricing units in rates."},"aliases":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"description":"Reference this alias when creating a contract. If the same alias is assigned to multiple rate cards, it will reference the rate card to which it was most recently assigned. It is not exposed to end customers."},"custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}},"example":{"name":"My Rate Card","description":"My Rate Card Description","fiat_credit_type_id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","credit_type_conversions":[{"custom_credit_type_id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","fiat_per_custom_credit":2}],"aliases":[{"name":"my-rate-card"}]}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/rate-cards/update":{"post":{"description":"Update a rate card\n","operationId":"updateRateCard","summary":"Update a rate card","tags":["Contracts"],"requestBody":{"description":"Update a rate card. Must provide at least one of name or description.","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"name":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"description":{"type":"string"},"aliases":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"description":"Reference this alias when creating a contract. If the same alias is assigned to multiple rate cards, it will reference the rate card to which it was most recently assigned. It is not exposed to end customers."},"custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}},"example":{"rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","name":"My Updated Rate Card","description":"My Updated Rate Card Description"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/rate-cards/addRate":{"post":{"description":"Add a new rate\n","operationId":"addRate","summary":"Add a rate","tags":["Contracts"],"requestBody":{"description":"Add a new rate","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id","product_id","starting_at","entitled","rate_type"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"product_id":{"type":"string","format":"uuid","description":"ID of the product to add a rate for"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"},"description":"Optional. List of pricing group key value pairs which will be used to calculate the price."},"starting_at":{"type":"string","format":"date-time","description":"inclusive effective date"},"ending_before":{"type":"string","format":"date-time","description":"exclusive end date"},"entitled":{"type":"boolean"},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT and SUBSCRIPTION rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"credit_type_id":{"type":"string","format":"uuid","example":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","description":"\"The Metronome ID of the credit type to associate with price, defaults to USD (cents) if not passed. Used by all rate_types except type PERCENTAGE. PERCENTAGE rates use the credit type of associated rates.\""},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."}}},"example":{"rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","product_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","starting_at":"2020-01-01T00:00:00.000Z","entitled":true,"rate_type":"FLAT","price":100,"credit_type_id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}}},"example":{"data":{"rate_type":"FLAT","price":100}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/rate-cards/addRates":{"post":{"description":"Add new rates\n","operationId":"addRates","summary":"Add rates","tags":["Contracts"],"requestBody":{"description":"Add new rates","content":{"application/json":{"schema":{"type":"object","properties":{"rate_card_id":{"type":"string","format":"uuid"},"rates":{"type":"array","items":{"type":"object","required":["product_id","starting_at","entitled","rate_type"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to add a rate for"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"},"description":"Optional. List of pricing group key value pairs which will be used to calculate the price."},"starting_at":{"type":"string","format":"date-time","description":"inclusive effective date"},"ending_before":{"type":"string","format":"date-time","description":"exclusive end date"},"entitled":{"type":"boolean"},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT and SUBSCRIPTION rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"credit_type_id":{"type":"string","format":"uuid","example":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","description":"\"The Metronome ID of the credit type to associate with price, defaults to USD (cents) if not passed. Used by all rate_types except type PERCENTAGE. PERCENTAGE rates use the credit type of associated rates.\""},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."}}}}}},"example":{"rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","rates":[{"product_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","starting_at":"2020-01-01T00:00:00.000Z","entitled":true,"rate_type":"FLAT","price":100,"pricing_group_values":{"region":"us-west-2","cloud":"aws"}},{"product_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","starting_at":"2020-01-01T00:00:00.000Z","entitled":true,"rate_type":"FLAT","price":120,"pricing_group_values":{"region":"us-east-2","cloud":"aws"}}]}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"description":"The ID of the rate card to which the rates were added.","required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/rate-cards/setRateCardProductsOrder":{"post":{"description":"Sets the ordering of products within a rate card\n","operationId":"setRateCardProductsOrder","summary":"Set the rate card products order","tags":["Contracts"],"requestBody":{"description":"New rate card product ordering","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id","product_order"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"product_order":{"type":"array","items":{"type":"string","format":"uuid"}}}},"example":{"rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","product_order":["13117714-3f05-48e5-a6e9-a66093f13b4d","b086f2f4-9851-4466-9ca0-30d53e6a42ac"]}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contract-pricing/rate-cards/moveRateCardProducts":{"post":{"description":"Updates ordering of specified products\n","operationId":"moveRateCardProducts","summary":"Update the rate card products order","tags":["Contracts"],"requestBody":{"description":"New rate card product ordering","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id","product_moves"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"product_moves":{"type":"array","items":{"type":"object","required":["product_id","position"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to move"},"position":{"type":"number","description":"0-based index of the new position of the product","minimum":0}}}}}},"example":{"rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","product_moves":[{"product_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","position":0},{"product_id":"b086f2f4-9851-4466-9ca0-30d53e6a42ac","position":1}]}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/get":{"post":{"description":"Get a specific contract\n","operationId":"getContract","summary":"Get a contract","tags":["Contracts"],"requestBody":{"description":"Contract and customer IDs","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id"],"properties":{"customer_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"},"include_ledgers":{"type":"boolean","description":"Include commit ledgers in the response. Setting this flag may cause the query to be slower."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"object","required":["id","customer_id","initial","current","amendments"],"properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"initial":{"type":"object","required":["starting_at","commits","overrides","scheduled_charges","transitions","created_at","created_by","usage_statement_schedule"],"properties":{"name":{"type":"string"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"rate_card_id":{"type":"string","format":"uuid"},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"transitions":{"type":"array","items":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"ending_before":{"type":"string","format":"date-time"},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"usage_filter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}}}},"current":{"type":"object","required":["starting_at","commits","overrides","scheduled_charges","transitions","created_at","created_by","usage_statement_schedule"],"properties":{"name":{"type":"string"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"rate_card_id":{"type":"string","format":"uuid"},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"transitions":{"type":"array","items":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"ending_before":{"type":"string","format":"date-time"},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"usage_filter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}}}},"amendments":{"type":"array","items":{"type":"object","required":["id","starting_at","commits","overrides","scheduled_charges","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time","nullable":true},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"custom_fields":{"x-cf-entity":"contract","type":"object","additionalProperties":{"type":"string"}},"customer_billing_provider_configuration":{"type":"object","description":"This field's availability is dependent on your client's configuration.","required":["billing_provider","delivery_method"],"properties":{"billing_provider":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"delivery_method":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]}}}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","customer_id":"e3fd63fd-fc9f-4153-a543-1fc2261a0e1c","initial":{"name":"My contract","rate_card_id":"92f3080d-27ca-4306-a23f-2430de61851e","starting_at":"2020-01-01T00:00:00.000Z","net_payment_terms_days":7,"ending_before":"2022-01-01T00:00:00.000Z","commits":[{"id":"62c0cb84-bf3f-48b9-9bcf-a8ddf8c1cf35","type":"PREPAID","name":"My test commit","description":"My test commit description","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"rollover_fraction":0.1,"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"invoice_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"f15e4e23-f74e-4de4-9b3a-8b07434116c4","invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"unit_price":10000000,"quantity":1,"timestamp":"2020-03-01T00:00:00.000Z"}]},"ledger":[{"invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"timestamp":"2020-03-01T00:00:00.000Z","type":"PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION","segment_id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a"}]}],"overrides":[{"id":"6cf3292a-e85c-4be6-822c-e25ba9d19757","product":{"id":"eae8903b-693b-41a7-8c0b-f23748c9a9c8","name":"My product B"},"starting_at":"2020-01-01T00:00:00.000Z","type":"MULTIPLIER","multiplier":0.1}],"scheduled_charges":[],"transitions":[{"type":"RENEWAL","from_contract_id":"9bf48856-b430-42f4-844f-4d2ea85bcff8","to_contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}],"reseller_royalties":[],"usage_statement_schedule":{"frequency":"MONTHLY"},"created_at":"2019-12-31T14:23:55.234Z","created_by":"Alice"},"current":{"rate_card_id":"92f3080d-27ca-4306-a23f-2430de61851e","starting_at":"2020-01-01T00:00:00.000Z","net_payment_terms_days":7,"ending_before":"2022-01-01T00:00:00.000Z","commits":[{"id":"62c0cb84-bf3f-48b9-9bcf-a8ddf8c1cf35","type":"PREPAID","name":"My test commit","description":"My test commit description","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"rollover_fraction":0.1,"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"invoice_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"f15e4e23-f74e-4de4-9b3a-8b07434116c4","invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"unit_price":10000000,"quantity":1,"timestamp":"2020-03-01T00:00:00.000Z"}]}}],"overrides":[{"id":"6cf3292a-e85c-4be6-822c-e25ba9d19757","product":{"id":"eae8903b-693b-41a7-8c0b-f23748c9a9c8","name":"My product B"},"starting_at":"2020-01-01T00:00:00.000Z","type":"MULTIPLIER","multiplier":0.1}],"scheduled_charges":[{"id":"8e511ff1-3fd5-4d86-bc89-1e80239874bf","name":"My test scheduled charge","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"schedule":{"schedule_items":[{"id":"6ca40ebc-9c01-484e-a64e-4e47fbbd0ebe","invoice_id":"5cced82b-5464-41b4-9ea7-3e080e0a4dba","amount":1000000,"unit_price":1000000,"quantity":1,"timestamp":"2020-02-15T00:00:00.000Z"}]}}],"transitions":[{"type":"RENEWAL","from_contract_id":"9bf48856-b430-42f4-844f-4d2ea85bcff8","to_contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}],"reseller_royalties":[],"usage_statement_schedule":{"frequency":"MONTHLY"},"created_at":"2019-12-31T14:23:55.234Z","created_by":"Alice"},"amendments":[{"id":"4e2fab26-31ea-473c-b07d-1ce10e7c0146","starting_at":"2020-04-01T00:00:00.000Z","scheduled_charges":[{"id":"8e511ff1-3fd5-4d86-bc89-1e80239874bf","name":"My test scheduled charge","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"schedule":{"schedule_items":[{"id":"6ca40ebc-9c01-484e-a64e-4e47fbbd0ebe","invoice_id":"5cced82b-5464-41b4-9ea7-3e080e0a4dba","amount":1000000,"unit_price":1000000,"quantity":1,"timestamp":"2020-02-15T00:00:00.000Z"}]}}],"commits":[],"overrides":[],"created_at":"2019-12-31T16:12:45.123Z","created_by":"Bob"}],"custom_fields":{"x_account_id":"KyVnHhSBWl7eY2bl"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/list":{"post":{"description":"List all contracts for a customer","operationId":"listContracts","summary":"List customer contracts","tags":["Contracts"],"requestBody":{"description":"List all contracts for a customer","content":{"application/json":{"schema":{"type":"object","required":["customer_id"],"properties":{"customer_id":{"type":"string","format":"uuid"},"include_ledgers":{"type":"boolean","description":"Include commit ledgers in the response. Setting this flag may cause the query to be slower."},"include_archived":{"type":"boolean","description":"Include archived contracts in the response"},"starting_at":{"description":"Optional RFC 3339 timestamp. If provided, the response will include only contracts where effective_at is on or after the provided date.  This cannot be provided if the covering_date filter is provided.","type":"string","format":"date-time"},"covering_date":{"type":"string","format":"date-time","description":"Optional RFC 3339 timestamp. If provided, the response will include only contracts effective on the provided date.  This cannot be provided if the starting_at filter is provided."}}},"example":{"customer_id":"9b85c1c1-5238-4f2a-a409-61412905e1e1"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"type":"object","required":["id","customer_id","initial","current","amendments"],"properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"initial":{"type":"object","required":["starting_at","commits","overrides","scheduled_charges","transitions","created_at","created_by","usage_statement_schedule"],"properties":{"name":{"type":"string"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"rate_card_id":{"type":"string","format":"uuid"},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"transitions":{"type":"array","items":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"ending_before":{"type":"string","format":"date-time"},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"usage_filter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}}}},"current":{"type":"object","required":["starting_at","commits","overrides","scheduled_charges","transitions","created_at","created_by","usage_statement_schedule"],"properties":{"name":{"type":"string"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"rate_card_id":{"type":"string","format":"uuid"},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"transitions":{"type":"array","items":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"ending_before":{"type":"string","format":"date-time"},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"usage_filter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}}}},"amendments":{"type":"array","items":{"type":"object","required":["id","starting_at","commits","overrides","scheduled_charges","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time","nullable":true},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"custom_fields":{"x-cf-entity":"contract","type":"object","additionalProperties":{"type":"string"}},"customer_billing_provider_configuration":{"type":"object","description":"This field's availability is dependent on your client's configuration.","required":["billing_provider","delivery_method"],"properties":{"billing_provider":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"delivery_method":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]}}}}}}}},"example":{"data":[{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","customer_id":"e3fd63fd-fc9f-4153-a543-1fc2261a0e1c","initial":{"name":"My contract","rate_card_id":"92f3080d-27ca-4306-a23f-2430de61851e","starting_at":"2020-01-01T00:00:00.000Z","net_payment_terms_days":7,"ending_before":"2022-01-01T00:00:00.000Z","commits":[{"id":"62c0cb84-bf3f-48b9-9bcf-a8ddf8c1cf35","type":"PREPAID","name":"My test commit","description":"My test commit description","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"rollover_fraction":0.1,"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"invoice_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"f15e4e23-f74e-4de4-9b3a-8b07434116c4","invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"unit_price":10000000,"quantity":1,"timestamp":"2020-03-01T00:00:00.000Z"}]},"ledger":[{"invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"timestamp":"2020-03-01T00:00:00.000Z","type":"PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION","segment_id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a"}]}],"overrides":[{"id":"6cf3292a-e85c-4be6-822c-e25ba9d19757","product":{"id":"eae8903b-693b-41a7-8c0b-f23748c9a9c8","name":"My product B"},"starting_at":"2020-01-01T00:00:00.000Z","type":"MULTIPLIER","multiplier":0.1}],"scheduled_charges":[],"transitions":[{"type":"RENEWAL","from_contract_id":"9bf48856-b430-42f4-844f-4d2ea85bcff8","to_contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}],"reseller_royalties":[],"usage_statement_schedule":{"frequency":"MONTHLY"},"created_at":"2019-12-31T14:23:55.234Z","created_by":"Alice"},"current":{"rate_card_id":"92f3080d-27ca-4306-a23f-2430de61851e","starting_at":"2020-01-01T00:00:00.000Z","net_payment_terms_days":7,"ending_before":"2022-01-01T00:00:00.000Z","commits":[{"id":"62c0cb84-bf3f-48b9-9bcf-a8ddf8c1cf35","type":"PREPAID","name":"My test commit","description":"My test commit description","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"rollover_fraction":0.1,"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"invoice_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"f15e4e23-f74e-4de4-9b3a-8b07434116c4","invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"unit_price":10000000,"quantity":1,"timestamp":"2020-03-01T00:00:00.000Z"}]}}],"overrides":[{"id":"6cf3292a-e85c-4be6-822c-e25ba9d19757","product":{"id":"eae8903b-693b-41a7-8c0b-f23748c9a9c8","name":"My product B"},"starting_at":"2020-01-01T00:00:00.000Z","type":"MULTIPLIER","multiplier":0.1}],"scheduled_charges":[{"id":"8e511ff1-3fd5-4d86-bc89-1e80239874bf","name":"My test scheduled charge","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"schedule":{"schedule_items":[{"id":"6ca40ebc-9c01-484e-a64e-4e47fbbd0ebe","invoice_id":"5cced82b-5464-41b4-9ea7-3e080e0a4dba","amount":1000000,"unit_price":1000000,"quantity":1,"timestamp":"2020-02-15T00:00:00.000Z"}]}}],"transitions":[{"type":"RENEWAL","from_contract_id":"9bf48856-b430-42f4-844f-4d2ea85bcff8","to_contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}],"reseller_royalties":[],"usage_statement_schedule":{"frequency":"MONTHLY"},"created_at":"2019-12-31T14:23:55.234Z","created_by":"Alice"},"amendments":[{"id":"4e2fab26-31ea-473c-b07d-1ce10e7c0146","starting_at":"2020-04-01T00:00:00.000Z","scheduled_charges":[{"id":"8e511ff1-3fd5-4d86-bc89-1e80239874bf","name":"My test scheduled charge","product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"schedule":{"schedule_items":[{"id":"6ca40ebc-9c01-484e-a64e-4e47fbbd0ebe","invoice_id":"5cced82b-5464-41b4-9ea7-3e080e0a4dba","amount":1000000,"unit_price":1000000,"quantity":1,"timestamp":"2020-02-15T00:00:00.000Z"}]}}],"commits":[],"overrides":[],"created_at":"2019-12-31T16:12:45.123Z","created_by":"Bob"}],"custom_fields":{"x_account_id":"KyVnHhSBWl7eY2bl"}}]}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/create":{"post":{"description":"Create a new contract\n","operationId":"createContract","summary":"Create a contract","tags":["Contracts"],"requestBody":{"description":"Create a new contract","content":{"application/json":{"schema":{"type":"object","required":["customer_id","starting_at"],"properties":{"customer_id":{"type":"string","format":"uuid"},"name":{"type":"string"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"rate_card_id":{"type":"string","format":"uuid"},"rate_card_alias":{"type":"string","description":"Selects the rate card linked to the specified alias as of the contract's start date."},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time","description":"inclusive contract start time"},"ending_before":{"type":"string","format":"date-time","description":"exclusive contract end time"},"commits":{"type":"array","items":{"type":"object","required":["type","product_id"],"properties":{"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Required: Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match access_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule and invoice_schedule instead."},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"rollover_fraction":{"type":"number","description":"Fraction of unused segments that will be rolled over. Must be between 0 and 1."},"priority":{"type":"number","description":"If multiple commits are applicable, the one with the lower priority will apply first."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["product_id","access_schedule"],"properties":{"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"priority":{"type":"number","description":"If multiple credits are applicable, the one with the lower priority will apply first."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"multiplier_override_prioritization":{"type":"string","enum":["LOWEST_MULTIPLIER","lowest_multiplier","EXPLICIT","explicit"],"description":"Defaults to LOWEST_MULTIPLIER, which applies the greatest discount to list prices automatically. EXPLICIT prioritization requires specifying priorities for each multiplier; the one with the lowest priority value will be prioritized first. If tiered overrides are used, prioritization must be explicit."},"overrides":{"type":"array","items":{"type":"object","required":["starting_at"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will start applying (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will stop applying (exclusive)"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","overwrite","MULTIPLIER","multiplier","TIERED","tiered"],"description":"Overwrites are prioritized over multipliers and tiered overrides."},"multiplier":{"type":"number","description":"Required for MULTIPLIER type. Must be >=0."},"priority":{"type":"number","description":"Required for EXPLICIT multiplier prioritization scheme and all TIERED overrides. Under EXPLICIT prioritization, overwrites are prioritized first, and then tiered and multiplier overrides are prioritized by their priority value (lowest first). Must be > 0."},"overwrite_rate":{"description":"Required for OVERWRITE type.","type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type_id":{"type":"string","format":"uuid"}}},"product_id":{"type":"string","format":"uuid","description":"ID of the product whose rate is being overridden"},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"tags identifying products whose rates are being overridden"},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid","description":"If provided, the override will only apply to the product with the specified ID."},"product_tags":{"type":"array","items":{"type":"string"},"description":"If provided, the override will only apply to products with all the specified tags."},"pricing_group_values":{"type":"object","description":"A map of pricing group names to values. The override will only apply to products with the specified pricing group values.","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"A map of group names to values. The override will only apply to line items with the specified presentation group values. Can only be used for multiplier overrides.","additionalProperties":{"type":"string"}}}},"description":"Cannot be used in conjunction with product_id or applicable_product_tags. If provided, the override will apply to all products with the specified specifiers."},"tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"description":"Required for TIERED type. Must have at least one tier."}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","unit_price","quantity","max_amount"],"properties":{"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"transition":{"type":"object","required":["type","from_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL","supersede","renewal"],"description":"This field's available values may vary based on your client's configuration."},"from_contract_id":{"type":"string","format":"uuid"},"future_invoice_behavior":{"type":"object","properties":{"trueup":{"type":"string","enum":["remove","as_is","REMOVE","AS_IS"],"nullable":true,"description":"Controls whether future trueup invoices are billed or removed. Default behavior is AS_IS if not specified."}}}}},"usage_filter":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]},"day":{"type":"string","description":"If not provided, defaults to the first day of the month.","enum":["FIRST_OF_MONTH","first_of_month","CONTRACT_START","contract_start"]},"invoice_generation_starting_at":{"type":"string","format":"date-time","description":"The date Metronome should start generating usage invoices. If unspecified, contract start date will be used. This is useful to set if you want to import historical invoices via our 'Create Historical Invoices' API rather than having Metronome automatically generate them."}}},"custom_fields":{"x-cf-entity":"contract","type":"object","additionalProperties":{"type":"string"}},"billing_provider_configuration":{"type":"object","description":"This field's availability is dependent on your client's configuration.","properties":{"billing_provider_configuration_id":{"type":"string","format":"uuid","description":"The Metronome ID of the billing provider configuration"},"billing_provider":{"type":"string","enum":["aws_marketplace","azure_marketplace","gcp_marketplace","stripe","netsuite"]},"delivery_method":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]}}}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","starting_at":"2020-01-01T00:00:00.000Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/amend":{"post":{"description":"Amend a contract\n","operationId":"amendContract","summary":"Amend a contract","tags":["Contracts"],"requestBody":{"description":"Amend a contract","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id","starting_at"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose contract is to be amended"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to amend"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time","description":"inclusive start time for the amendment"},"commits":{"type":"array","items":{"type":"object","required":["type","product_id"],"properties":{"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Required: Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match access_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule and invoice_schedule instead."},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"rollover_fraction":{"type":"number","description":"Fraction of unused segments that will be rolled over. Must be between 0 and 1."},"priority":{"type":"number","description":"If multiple commits are applicable, the one with the lower priority will apply first."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["product_id","access_schedule"],"properties":{"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"priority":{"type":"number","description":"If multiple credits are applicable, the one with the lower priority will apply first."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["starting_at"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will start applying (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will stop applying (exclusive)"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","overwrite","MULTIPLIER","multiplier","TIERED","tiered"],"description":"Overwrites are prioritized over multipliers and tiered overrides."},"multiplier":{"type":"number","description":"Required for MULTIPLIER type. Must be >=0."},"priority":{"type":"number","description":"Required for EXPLICIT multiplier prioritization scheme and all TIERED overrides. Under EXPLICIT prioritization, overwrites are prioritized first, and then tiered and multiplier overrides are prioritized by their priority value (lowest first). Must be > 0."},"overwrite_rate":{"description":"Required for OVERWRITE type.","type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type_id":{"type":"string","format":"uuid"}}},"product_id":{"type":"string","format":"uuid","description":"ID of the product whose rate is being overridden"},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"tags identifying products whose rates are being overridden"},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid","description":"If provided, the override will only apply to the product with the specified ID."},"product_tags":{"type":"array","items":{"type":"string"},"description":"If provided, the override will only apply to products with all the specified tags."},"pricing_group_values":{"type":"object","description":"A map of pricing group names to values. The override will only apply to products with the specified pricing group values.","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"A map of group names to values. The override will only apply to line items with the specified presentation group values. Can only be used for multiplier overrides.","additionalProperties":{"type":"string"}}}},"description":"Cannot be used in conjunction with product_id or applicable_product_tags. If provided, the override will apply to all products with the specified specifiers."},"tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"description":"Required for TIERED type. Must have at least one tier."}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","unit_price","quantity","max_amount"],"properties":{"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"description":"Use null to indicate that the existing end timestamp should be removed.","type":"string","nullable":true,"format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"custom_fields":{"x-cf-entity":"contract","type":"object","additionalProperties":{"type":"string"}}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","starting_at":"2020-01-01T00:00:00.000Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/archive":{"post":{"description":"Archive a contract","operationId":"archiveContract","summary":"Archive a contract","tags":["Contracts"],"requestBody":{"description":"Archive a contract","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id","void_invoices"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose contract is to be archived"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to archive"},"void_invoices":{"type":"boolean","description":"If false, the existing finalized invoices will remain after the contract is archived."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","void_invoices":true}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"8deed800-1b7a-495d-a207-6c52bac54dc9"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/setUsageFilter":{"post":{"description":"Set usage filter for a contract\n","operationId":"setUsageFilter","summary":"Set a contract usage filter","tags":["Contracts"],"requestBody":{"description":"Set usage filter for contract","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id","group_key","group_values","starting_at"],"properties":{"customer_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"},"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","group_key":"business_subscription_id","group_values":["ID-1","ID-2"],"starting_at":"2020-01-01T00:00:00.000Z"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/addManualBalanceLedgerEntry":{"post":{"description":"Add a manual balance entry\n","operationId":"addManualBalanceLedgerEntry","summary":"Add a manual balance entry","tags":["Contracts"],"requestBody":{"description":"Add a manual ledger entry to a balance","content":{"application/json":{"schema":{"type":"object","required":["customer_id","id","segment_id","amount","reason"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose balance is to be updated."},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to update. Leave blank to update a customer level balance."},"id":{"type":"string","format":"uuid","description":"ID of the balance (commit or credit) to update."},"segment_id":{"type":"string","format":"uuid","description":"ID of the segment to update."},"amount":{"type":"number","description":"Amount to add to the segment. A negative number will draw down from the balance."},"reason":{"type":"string","description":"Reason for the manual adjustment. This will be displayed in the ledger."},"timestamp":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the manual adjustment takes place. If not provided, it will default to the start of the segment."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85","segment_id":"66368e29-3f97-4d15-a6e9-120897f0070a","amount":-1000,"reason":"Reason for entry"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/updateEndDate":{"post":{"description":"Update the end date of a contract\n","operationId":"updateContractEndDate","summary":"Update the contract end date","tags":["Contracts"],"requestBody":{"description":"Update the end date of a contract","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose contract is to be updated"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to update"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the contract will end (exclusive). If not provided, the contract will be updated to be open-ended."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","ending_before":"2020-01-01T00:00:00.000Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/getContractRateSchedule":{"post":{"description":"Get the rate schedule for the rate card on a given contract.\n","operationId":"getContractRateSchedule","summary":"Get the rate schedule for a contract","parameters":[{"name":"limit","in":"query","description":"Max number of results that should be returned","required":false,"schema":{"type":"integer","minimum":1,"maximum":100}},{"name":"next_page","in":"query","description":"Cursor that indicates where the next page of results should start.","required":false,"schema":{"type":"string"}}],"tags":["Contracts"],"requestBody":{"description":"Contract rate schedule filter options.","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer for whose contract to get the rate schedule for."},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to get the rate schedule for."},"at":{"type":"string","format":"date-time","description":"optional timestamp which overlaps with the returned rate schedule segments. When not specified, the current timestamp will be used."},"selectors":{"description":"List of rate selectors, rates matching ANY of the selectors will be included in the response. Passing no selectors will result in all rates being returned.","type":"array","items":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"product_tags":{"description":"List of product tags, rates matching any of the tags will be included in the response.","type":"array","items":{"type":"string"}},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}}}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","at":"2020-01-01T00:00:00.000Z","selectors":[{"product_id":"d6300dbb-882e-4d2d-8dec-5125d16b65d0","partial_pricing_group_values":{"region":"us-west-2","cloud":"aws"}}]}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"next_page":{"type":"string","nullable":true},"data":{"type":"array","items":{"type":"object","required":["rate_card_id","product_id","product_name","product_tags","product_custom_fields","starting_at","entitled","list_rate"],"properties":{"rate_card_id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"product_name":{"type":"string"},"product_tags":{"type":"array","items":{"type":"string"}},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"list_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}}}}}}}}}}}},"/contracts/customerCommits/list":{"post":{"description":"List commits.\n","operationId":"listCustomerCommits","summary":"List commits","tags":["Contracts"],"requestBody":{"description":"List all commits for a customer","content":{"application/json":{"schema":{"type":"object","required":["customer_id"],"properties":{"customer_id":{"type":"string","format":"uuid"},"commit_id":{"type":"string","format":"uuid"},"covering_date":{"description":"Include only commits that have access schedules that \"cover\" the provided date","type":"string","format":"date-time"},"starting_at":{"description":"Include only commits that have any access on or after the provided date","type":"string","format":"date-time"},"effective_before":{"description":"Include only commits that have any access before the provided date (exclusive)","type":"string","format":"date-time"},"include_contract_commits":{"type":"boolean","description":"Include commits on the contract level."},"include_archived":{"type":"boolean","description":"Include commits from archived contracts."},"include_ledgers":{"type":"boolean","description":"Include commit ledgers in the response. Setting this flag may cause the query to be slower."},"next_page":{"type":"string","description":"The next page token from a previous response."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","commit_id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85","include_ledgers":true}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data","next_page"],"properties":{"data":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"next_page":{"type":"string","nullable":true}}},"example":{"data":[{"id":"62c0cb84-bf3f-48b9-9bcf-a8ddf8c1cf35","type":"PREPAID","name":"My test commit","description":"My test commit description","priority":100,"product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"rollover_fraction":0.1,"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"applicable_contract_ids":["d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"invoice_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"f15e4e23-f74e-4de4-9b3a-8b07434116c4","invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"unit_price":10000000,"quantity":1,"timestamp":"2020-03-01T00:00:00.000Z"}]},"invoice_contract":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"},"ledger":[{"invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"timestamp":"2020-03-01T00:00:00.000Z","type":"PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION","segment_id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a"}]}],"next_page":null}}}}}}},"/contracts/customerCommits/create":{"post":{"description":"Create a new commit at the customer level.\n","operationId":"createCustomerCommit","summary":"Create a commit","tags":["Contracts"],"requestBody":{"description":"Create a commit","content":{"application/json":{"schema":{"type":"object","required":["customer_id","type","priority","product_id","access_schedule"],"properties":{"customer_id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match accesss_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"invoice_contract_id":{"type":"string","format":"uuid","description":"The contract that this commit will be billed on. This is required for \"POSTPAID\" commits and for \"PREPAID\" commits unless there is no invoice schedule above (i.e., the commit is 'free')."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_contract_ids":{"type":"array","items":{"type":"string"},"description":"Which contract the commit applies to. If not provided, the commit applies to all contracts."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","type":"prepaid","name":"My Commit","priority":100,"product_id":"f14d6729-6a44-4b13-9908-9387f1918790","access_schedule":{"credit_type_id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","schedule_items":[{"amount":1000,"starting_at":"2020-01-01T00:00:00.000Z","ending_before":"2020-02-01T00:00:00.000Z"}]},"invoice_schedule":{"credit_type_id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","schedule_items":[{"amount":10000000,"unit_price":10000000,"quantity":1,"timestamp":"2020-03-01T00:00:00.000Z"}]}}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/customerCommits/updateEndDate":{"post":{"description":"Update the end date of a PREPAID commit\n","operationId":"updateCommitEndDate","summary":"Update the commit end date","tags":["Contracts"],"requestBody":{"description":"Update the access or invoice end date of a commit","content":{"application/json":{"schema":{"type":"object","required":["customer_id","commit_id"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose commit is to be updated"},"commit_id":{"type":"string","format":"uuid","description":"ID of the commit to update. Only supports \"PREPAID\" commits."},"access_ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when access to the commit will end and it will no longer be possible to draw it down (exclusive). If not provided, the access will not be updated."},"invoices_ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the commit will stop being invoiced (exclusive). If not provided, the invoice schedule will not be updated."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","commit_id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85","access_ending_before":"2020-01-01T00:00:00.000Z","invoices_ending_before":"2020-01-01T00:00:00.000Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/customerCredits/list":{"post":{"description":"List credits.\n","operationId":"listCustomerCredits","summary":"List credits","tags":["Contracts"],"requestBody":{"description":"List all credits for a customer","content":{"application/json":{"schema":{"type":"object","required":["customer_id"],"properties":{"customer_id":{"type":"string","format":"uuid"},"credit_id":{"type":"string","format":"uuid"},"covering_date":{"description":"Return only credits that have access schedules that \"cover\" the provided date","type":"string","format":"date-time"},"starting_at":{"description":"Include only credits that have any access on or after the provided date","type":"string","format":"date-time"},"effective_before":{"description":"Include only credits that have any access before the provided date (exclusive)","type":"string","format":"date-time"},"include_contract_credits":{"type":"boolean","description":"Include credits on the contract level."},"include_archived":{"type":"boolean","description":"Include credits from archived contracts."},"include_ledgers":{"type":"boolean","description":"Include credit ledgers in the response. Setting this flag may cause the query to be slower."},"next_page":{"type":"string","description":"The next page token from a previous response."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","credit_id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85","include_ledgers":true}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data","next_page"],"properties":{"data":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"next_page":{"type":"string","nullable":true}}},"example":{"data":[{"id":"fa411f5b-fb85-4755-9d4d-530717be083c","type":"CREDIT","name":"My test credit","description":"My test credit description","priority":100,"product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"applicable_contract_ids":["d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"ledger":[{"invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"timestamp":"2020-03-01T00:00:00.000Z","type":"CREDIT_AUTOMATED_INVOICE_DEDUCTION","segment_id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a"}]}],"next_page":null}}}}}}},"/contracts/customerCredits/create":{"post":{"description":"Create a new credit at the customer level.\n","operationId":"createCustomerCredit","summary":"Create a credit","tags":["Contracts"],"requestBody":{"description":"Create a credit","content":{"application/json":{"schema":{"type":"object","required":["customer_id","priority","product_id","access_schedule"],"properties":{"customer_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_contract_ids":{"type":"array","items":{"type":"string"},"description":"Which contract the credit applies to. If not provided, the credit applies to all contracts."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","name":"My Credit","priority":100,"product_id":"f14d6729-6a44-4b13-9908-9387f1918790","access_schedule":{"credit_type_id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","schedule_items":[{"amount":1000,"starting_at":"2020-01-01T00:00:00.000Z","ending_before":"2020-02-01T00:00:00.000Z"}]}}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/customerCredits/updateEndDate":{"post":{"description":"Update the end date of a credit\n","operationId":"updateCreditEndDate","summary":"Update the credit end date","tags":["Contracts"],"requestBody":{"description":"Update the access end date of a credit","content":{"application/json":{"schema":{"type":"object","required":["customer_id","credit_id","access_ending_before"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose credit is to be updated"},"credit_id":{"type":"string","format":"uuid","description":"ID of the commit to update"},"access_ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when access to the credit will end and it will no longer be possible to draw it down (exclusive)."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","credit_id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85","access_ending_before":"2020-01-01T00:00:00.000Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}}}},"example":{"data":{"id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/contracts/customerBalances/list":{"post":{"description":"List balances (commits and credits).\n","operationId":"listCustomerBalances","summary":"List balances","tags":["Contracts"],"requestBody":{"description":"List all balances (commits and credits) for a customer","content":{"application/json":{"schema":{"type":"object","required":["customer_id"],"properties":{"customer_id":{"type":"string","format":"uuid"},"id":{"type":"string","format":"uuid"},"covering_date":{"description":"Return only balances that have access schedules that \"cover\" the provided date","type":"string","format":"date-time"},"starting_at":{"description":"Include only balances that have any access on or after the provided date","type":"string","format":"date-time"},"effective_before":{"description":"Include only balances that have any access before the provided date (exclusive)","type":"string","format":"date-time"},"include_contract_balances":{"type":"boolean","description":"Include balances on the contract level."},"include_archived":{"type":"boolean","description":"Include credits from archived contracts."},"include_ledgers":{"type":"boolean","description":"Include ledgers in the response. Setting this flag may cause the query to be slower."},"next_page":{"type":"string","description":"The next page token from a previous response."}}},"example":{"customer_id":"13117714-3f05-48e5-a6e9-a66093f13b4d","id":"6162d87b-e5db-4a33-b7f2-76ce6ead4e85","include_ledgers":true}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data","next_page"],"properties":{"data":{"type":"array","items":{"oneOf":[{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}},{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}]}},"next_page":{"type":"string","nullable":true}}},"example":{"data":[{"id":"62c0cb84-bf3f-48b9-9bcf-a8ddf8c1cf35","type":"PREPAID","name":"My test commit","description":"My test commit description","priority":100,"product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"rollover_fraction":0.1,"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"applicable_contract_ids":["d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"invoice_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"f15e4e23-f74e-4de4-9b3a-8b07434116c4","invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"unit_price":10000000,"quantity":1,"timestamp":"2020-03-01T00:00:00.000Z"}]},"invoice_contract":{"id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"},"ledger":[{"invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"timestamp":"2020-03-01T00:00:00.000Z","type":"PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION","segment_id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a"}]},{"id":"fa411f5b-fb85-4755-9d4d-530717be083c","type":"CREDIT","name":"My test credit","description":"My test credit description","priority":100,"product":{"id":"2e30f074-d04c-412e-a134-851ebfa5ceb2","name":"My product A"},"applicable_product_ids":["13a2179b-f0cb-460b-85a1-cd42964ca533"],"applicable_contract_ids":["d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"],"access_schedule":{"credit_type":{"id":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","name":"USD (cents)"},"schedule_items":[{"id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a","amount":10000000,"starting_at":"2020-02-01T00:00:00.000Z","ending_before":"2021-02-01T00:00:00.000Z"}]},"ledger":[{"invoice_id":"525b9759-7bbd-4a05-aab1-d7c43c976b57","amount":10000000,"timestamp":"2020-03-01T00:00:00.000Z","type":"CREDIT_AUTOMATED_INVOICE_DEDUCTION","segment_id":"2d45952c-5a6e-43a9-8aab-f61ee21be81a"}]}],"next_page":null}}}}}}},"/contracts/scheduleProServicesInvoice":{"post":{"description":"Create a new, scheduled invoice for Professional Services terms on a contract. This endpoint's availability is dependent on your client's configuration.\n","operationId":"scheduleProServicesInvoice","summary":"Schedule ProService invoice","tags":["Contracts"],"requestBody":{"description":"schedule an invoice for the specified Professional Services terms on a contract","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id","issued_at","line_items"],"properties":{"customer_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"},"issued_at":{"type":"string","format":"date-time","description":"The date the invoice is issued"},"netsuite_invoice_header_start":{"type":"string","format":"date-time","description":"The start date of the invoice header in Netsuite"},"netsuite_invoice_header_end":{"type":"string","format":"date-time","description":"The end date of the invoice header in Netsuite"},"line_items":{"description":"Each line requires an amount or both unit_price and quantity.","type":"array","items":{"description":"Describes the line item for a professional service charge on an invoice.","type":"object","required":["professional_service_id"],"properties":{"professional_service_id":{"type":"string","format":"uuid"},"amendment_id":{"type":"string","format":"uuid","description":"If the professional_service_id was added on an amendment, this is required."},"unit_price":{"type":"number","description":"If specified, this overrides the unit price on the pro service term. Must also provide quantity (but not amount) if providing unit_price."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"amount":{"type":"number","description":"Amount for the term on the new invoice."},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"metadata":{"type":"string","description":"For client use."}}}}}}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"required":["id","customer_id","credit_type","line_items","status","total","type"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"customer_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"invoice_adjustments":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string","example":"Monthly minimum ($1,000)"},"total":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_grant_id":{"type":"string"},"credit_grant_custom_fields":{"x-cf-entity":"credit_grant","type":"object","additionalProperties":{"type":"string"}}}}},"line_items":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true},"quantity":{"type":"number"},"total":{"type":"number"},"unit_price":{"type":"number","description":"only present for beta contract invoices"},"product_id":{"type":"string","format":"uuid"},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"product_type":{"type":"string"},"netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"is_prorated":{"type":"boolean","description":"only present for beta contract invoices"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_at":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"ending_before":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"commit_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"commit_segment_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_type":{"type":"string","description":"only present for beta contract invoices"},"commit_netsuite_sales_order_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"commit_netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"postpaid_commit":{"type":"object","required":["id"],"description":"only present for beta contract invoices","properties":{"id":{"type":"string","format":"uuid"}}},"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"sub_line_items":{"type":"array","items":{"required":["name","quantity","subtotal","custom_fields"],"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","description":"the unit price for this charge, present only if the charge is not tiered and the quantity is nonzero"},"quantity":{"type":"number"},"subtotal":{"type":"number"},"charge_id":{"type":"string","format":"uuid"},"credit_grant_id":{"type":"string","format":"uuid"},"tier_period":{"type":"object","required":["starting_at"],"description":"when the current tier started and ends (for tiered charges only)","properties":{"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"tiers":{"type":"array","items":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}},"start_date":{"type":"string","format":"date-time","description":"The start date for the charge (for seats charges only)."},"end_date":{"type":"string","format":"date-time","description":"The end date for the charge (for seats charges only)."}}}},"custom_fields":{"x-cf-entity":"product","type":"object","additionalProperties":{"type":"string"}},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"if presentation groups are used, this will contain the values used to break down the line item","additionalProperties":{"type":"string","nullable":true}},"metadata":{"type":"string"},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"professional_service_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"professional_service_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"scheduled_charge_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"scheduled_charge_custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}}},"start_timestamp":{"description":"Beginning of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"end_timestamp":{"description":"End of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"issued_at":{"description":"When the invoice was issued (UTC)","type":"string","format":"date-time"},"created_at":{"description":"When the invoice was created (UTC). This field is present for correction invoices only.","type":"string","format":"date-time"},"status":{"type":"string","example":"DRAFT, VOID, or FINALIZED"},"subtotal":{"type":"number"},"total":{"type":"number"},"type":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"},"external_invoice":{"nullable":true,"required":["billing_provider_type"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"invoice_id":{"type":"string"},"issued_at_timestamp":{"type":"string","format":"date-time"},"external_status":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]}}},"plan_id":{"type":"string","format":"uuid"},"plan_name":{"type":"string"},"plan_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"contract_id":{"type":"string","format":"uuid"},"contract_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"amendment_id":{"type":"string","format":"uuid"},"correction_record":{"required":["reason","memo","corrected_invoice_id"],"type":"object","properties":{"reason":{"type":"string"},"memo":{"type":"string"},"corrected_invoice_id":{"type":"string","format":"uuid"},"corrected_external_invoice":{"required":["billing_provider_type"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"invoice_id":{"type":"string"},"issued_at_timestamp":{"type":"string","format":"date-time"},"external_status":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]}}}}},"reseller_royalty":{"type":"object","description":"only present for beta contract invoices with reseller royalties","required":["reseller_type","netsuite_reseller_id","fraction"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"netsuite_reseller_id":{"type":"string"},"fraction":{"type":"string"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}},"custom_fields":{"x-cf-entity":"invoice","type":"object","additionalProperties":true},"billable_status":{"description":"This field's availability is dependent on your client's configuration.","type":"string","enum":["billable","unbillable"]}}}}}}}}},"404":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/customers/getNamedSchedule":{"post":{"description":"Get a named schedule for the given customer. This endpoint's availability is dependent on your client's configuration.","operationId":"getCustomerNamedSchedule","summary":"Get a customer's named schedule","tags":["Named schedules"],"requestBody":{"description":"Which customer, schedule name, and date to retrieve.","content":{"application/json":{"schema":{"type":"object","required":["customer_id","schedule_name"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be retrieved"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be retrieved"},"covering_date":{"type":"string","format":"date-time","description":"If provided, at most one schedule segment will be returned (the one that covers this date). If not provided, all segments will be returned."}}},"example":{"customer_id":"9b85c1c1-5238-4f2a-a409-61412905e1e1","schedule_name":"my-schedule","covering_date":"2022-02-15T00:00:00Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"type":"object","required":["starting_at","value"],"properties":{"value":{},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"example":{"data":[{"starting_at":"2022-02-01T00:00:00Z","ending_before":"2022-03-01T00:00:00Z","value":"my-value"}]}}}}}}},"/customers/updateNamedSchedule":{"post":{"description":"Update a named schedule for the given customer. This endpoint's availability is dependent on your client's configuration.","operationId":"updateCustomerNamedSchedule","summary":"Update a customer's named schedule","tags":["Named schedules"],"requestBody":{"description":"The customer, schedule name, date range, and value to set.","content":{"application/json":{"schema":{"type":"object","required":["customer_id","schedule_name","starting_at","value"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be updated"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be updated"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"value":{"description":"The value to set for the named schedule. The structure of this object is specific to the named schedule."}}},"example":{"customer_id":"9b85c1c1-5238-4f2a-a409-61412905e1e1","schedule_name":"my-schedule","starting_at":"2022-02-01T00:00:00Z","ending_before":"2022-02-15T00:00:00Z","value":{"my_key":"my_value"}}}}},"responses":{"200":{"description":"Success"}}}},"/contracts/getNamedSchedule":{"post":{"description":"Get a named schedule for the given contract. This endpoint's availability is dependent on your client's configuration.","operationId":"getContractNamedSchedule","summary":"Get a contract's named schedule","tags":["Named schedules"],"requestBody":{"description":"Which customer, contract, schedule name, and date to retrieve.","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id","schedule_name"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be retrieved"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract whose named schedule is to be retrieved"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be retrieved"},"covering_date":{"type":"string","format":"date-time","description":"If provided, at most one schedule segment will be returned (the one that covers this date). If not provided, all segments will be returned."}}},"example":{"customer_id":"9b85c1c1-5238-4f2a-a409-61412905e1e1","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","schedule_name":"my-schedule","covering_date":"2022-02-15T00:00:00Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"type":"object","required":["starting_at","value"],"properties":{"value":{},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"example":{"data":[{"starting_at":"2022-02-01T00:00:00Z","ending_before":"2022-03-01T00:00:00Z","value":"my-value"}]}}}}}}},"/contracts/updateNamedSchedule":{"post":{"description":"Update a named schedule for the given contract. This endpoint's availability is dependent on your client's configuration.","operationId":"updateContractNamedSchedule","summary":"Update a contract's named schedule","tags":["Named schedules"],"requestBody":{"description":"The customer, contract, schedule name, date range, and value to set.","content":{"application/json":{"schema":{"type":"object","required":["customer_id","contract_id","schedule_name","starting_at","value"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be updated"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract whose named schedule is to be updated"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be updated"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"value":{"description":"The value to set for the named schedule. The structure of this object is specific to the named schedule."}}},"example":{"customer_id":"9b85c1c1-5238-4f2a-a409-61412905e1e1","contract_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","schedule_name":"my-schedule","starting_at":"2022-02-01T00:00:00Z","ending_before":"2022-02-15T00:00:00Z","value":{"my_key":"my_value"}}}}},"responses":{"200":{"description":"Success"}}}},"/contract-pricing/rate-cards/getNamedSchedule":{"post":{"description":"Get a named schedule for the given rate card. This endpoint's availability is dependent on your client's configuration.","operationId":"getRateCardNamedSchedule","summary":"Get a rate card's named schedule","tags":["Named schedules"],"requestBody":{"description":"Which rate card, schedule name, and date to retrieve.","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id","schedule_name"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card whose named schedule is to be retrieved"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be retrieved"},"covering_date":{"type":"string","format":"date-time","description":"If provided, at most one schedule segment will be returned (the one that covers this date). If not provided, all segments will be returned."}}},"example":{"rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","schedule_name":"my-schedule","covering_date":"2022-02-15T00:00:00Z"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"type":"object","required":["starting_at","value"],"properties":{"value":{},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"example":{"data":[{"starting_at":"2022-02-01T00:00:00Z","ending_before":"2022-03-01T00:00:00Z","value":"my-value"}]}}}}}}},"/contract-pricing/rate-cards/updateNamedSchedule":{"post":{"description":"Update a named schedule for the given rate card. This endpoint's availability is dependent on your client's configuration.","operationId":"updateRateCardNamedSchedule","summary":"Update a rate card's named schedule","tags":["Named schedules"],"requestBody":{"description":"The rate card, schedule name, date range, and value to set.","content":{"application/json":{"schema":{"type":"object","required":["rate_card_id","schedule_name","starting_at","value"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card whose named schedule is to be updated"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be updated"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"value":{"description":"The value to set for the named schedule. The structure of this object is specific to the named schedule."}}},"example":{"rate_card_id":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc","schedule_name":"my-schedule","starting_at":"2022-02-01T00:00:00Z","ending_before":"2022-02-15T00:00:00Z","value":{"my_key":"my_value"}}}}},"responses":{"200":{"description":"Success"}}}}},"components":{"parameters":{"BillingProviderType":{"name":"billing_provider_type","in":"path","description":"The billing provider (e.g. stripe)","required":true,"schema":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"example":"stripe"},"BillingProviderSettingsType":{"name":"billing_provider_type","in":"path","description":"The billing provider (currently only Stripe is supported).","required":true,"schema":{"type":"string","enum":["stripe"]},"example":"stripe"},"BillableMetricId":{"name":"billable_metric_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"13117714-3f05-48e5-a6e9-a66093f13b4d"},"PlanId":{"name":"plan_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"},"CustomerPlanId":{"name":"customer_plan_id","in":"path","description":"the ID of a customer-plan relationship","required":true,"schema":{"type":"string","format":"uuid"},"example":"7aa11640-0703-4600-8eb9-293f535a6b74"},"CustomerId":{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"},"CreditTypeId":{"name":"credit_type_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"2714e483-4ff1-48e4-9e25-ac732e8f24f2"},"InvoiceId":{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"6a37bb88-8538-48c5-b37b-a41c836328bd"},"NextPage":{"name":"next_page","in":"query","description":"Cursor that indicates where the next page of results should start.","required":false,"schema":{"type":"string"}},"PageLimit":{"name":"limit","in":"query","description":"Max number of results that should be returned","required":false,"schema":{"type":"integer","minimum":1,"maximum":100}},"RequiredStartDate":{"name":"starting_on","in":"query","description":"RFC 3339 timestamp (inclusive)","required":true,"schema":{"type":"string","format":"date-time"}},"RequiredEndDate":{"name":"ending_before","in":"query","description":"RFC 3339 timestamp (exclusive)","required":true,"schema":{"type":"string","format":"date-time"}},"InvoiceStatus":{"name":"status","in":"query","description":"Invoice status, e.g. DRAFT, FINALIZED, or VOID","required":false,"schema":{"type":"string"}},"InvoiceStatusNonVoid":{"name":"status","in":"query","description":"Invoice status, e.g. DRAFT or FINALIZED","required":false,"schema":{"type":"string"}},"SkipZeroQtyLineItems":{"name":"skip_zero_qty_line_items","in":"query","description":"If set, all zero quantity line items will be filtered out of the response","required":false,"schema":{"type":"boolean"}},"ProductId":{"name":"product_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"},"ContractId":{"name":"contract_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"},"PrivateBetaName":{"name":"name","in":"path","required":true,"schema":{"type":"string"}},"RechargeSettingsId":{"name":"recharge_settings_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc"},"CustomerPlanStatus":{"name":"status","in":"query","description":"Status of customers on a given plan. Defaults to `active`.\n\n* `all` - Return current, past, and upcoming customers of the plan.\n* `active` - Return current customers of the plan.\n* `ended` - Return past customers of the plan.\n* `upcoming` - Return upcoming customers of the plan.\n\nMultiple statuses can be OR'd together using commas, e.g. `active,ended`.\n**Note:** `ended,upcoming` combination is not yet supported.","required":false,"schema":{"type":"string","enum":["all","active","ended","upcoming"]},"explode":false}},"responses":{"NotFound":{"description":"The specified resource was not found","content":{"application/json":{"schema":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}}}}}},"examples":{},"schemas":{"SetClientWebhookSecretPayload":{"required":["webhook_secret"],"type":"object","properties":{"webhook_secret":{"type":"string","description":"The client webhook secret used to verify webhook results"}}},"SetBillingProviderApiKeyPayload":{"required":["api_key"],"type":"object","properties":{"api_key":{"type":"string","description":"API key to set for the billing provider."}}},"CreateStripeBillingSettingsPayload":{"type":"object","properties":{"stripe_api_key":{"type":"string","description":"API key used to call the Stripe APIs"},"anrok_api_key":{"type":"string","description":"API key used to call the Anrok APIs","nullable":true}},"required":["stripe_api_key"]},"UpdateStripeBillingSettingsPayload":{"type":"object","properties":{"stripe_api_key":{"type":"string","description":"API key used to call the Stripe APIs"},"anrok_api_key":{"type":"string","description":"API key used to call the Anrok APIs","nullable":true}}},"ExperimentalEmbeddableDashboardPayload":{"required":["customer_id","dashboard"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid"},"dashboard":{"type":"string","description":"The type of experimental dashboard to retrieve."},"dashboardHostUrl":{"type":"string","description":"Host override url to the embeddable dashboards host."},"dashboard_options":{"type":"array","description":"Optional dashboard specific options","items":{"type":"object","required":["key","value"],"properties":{"key":{"type":"string","description":"The option key name"},"value":{"type":"string","description":"The option value"}}}},"color_overrides":{"type":"array","description":"Optional list of colors to override","items":{"type":"object","properties":{"name":{"type":"string","description":"The color to override","enum":["Gray_dark","Gray_medium","Gray_light","Gray_extralight","White","Primary_medium","Primary_light","UsageLine_0","UsageLine_1","UsageLine_2","UsageLine_3","UsageLine_4","UsageLine_5","UsageLine_6","UsageLine_7","UsageLine_8","UsageLine_9","Primary_green","Primary_red"]},"value":{"type":"string","description":"Hex value representation of the color"}}}}}},"EmbeddableDashboardPayload":{"required":["customer_id","dashboard"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid"},"dashboard":{"type":"string","enum":["invoices","usage","credits"],"description":"The type of dashboard to retrieve."},"dashboard_options":{"type":"array","description":"Optional dashboard specific options","items":{"type":"object","required":["key","value"],"properties":{"key":{"type":"string","description":"The option key name"},"value":{"type":"string","description":"The option value"}}}},"color_overrides":{"type":"array","description":"Optional list of colors to override","items":{"type":"object","properties":{"name":{"type":"string","description":"The color to override","enum":["Gray_dark","Gray_medium","Gray_light","Gray_extralight","White","Primary_medium","Primary_light","UsageLine_0","UsageLine_1","UsageLine_2","UsageLine_3","UsageLine_4","UsageLine_5","UsageLine_6","UsageLine_7","UsageLine_8","UsageLine_9","Primary_green","Primary_red"]},"value":{"type":"string","description":"Hex value representation of the color"}}}}}},"CreateCustomerAlertPayload":{"required":["alert_type","name","threshold"],"type":"object","properties":{"alert_type":{"type":"string","enum":["low_credit_balance_reached","spend_threshold_reached","monthly_invoice_total_spend_threshold_reached","low_remaining_days_in_plan_reached","low_remaining_credit_percentage_reached","usage_threshold_reached","low_remaining_days_for_commit_segment_reached","low_remaining_commit_balance_reached","low_remaining_commit_percentage_reached","low_remaining_days_for_contract_credit_segment_reached","low_remaining_contract_credit_balance_reached","low_remaining_contract_credit_percentage_reached","low_remaining_contract_credit_and_commit_balance_reached","invoice_total_reached"],"description":"Type of the alert"},"name":{"type":"string","description":"Name of the alert"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"threshold":{"type":"number","description":"Threshold value of the alert policy"},"credit_type_id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid","description":"If provided, will create this alert for this specific customer. To create an alert for all customers, do not specify `customer_id` or `plan_id`."},"plan_id":{"type":"string","format":"uuid","description":"If provided, will create this alert for this specific plan. To create an alert for all customers, do not specify `customer_id` or `plan_id`."},"billable_metric_id":{"type":"string","format":"uuid","description":"For alerts of type `usage_threshold_reached`, specifies which billable metric to track the usage for."},"credit_grant_type_filters":{"type":"array","items":{"type":"string"},"description":"An array of strings, representing a way to filter the credit grant this alert applies to, by looking at the credit_grant_type field on the credit grant. This field is only defined for CreditPercentage and CreditBalance alerts"},"evaluate_on_create":{"type":"boolean","description":"If true, the alert will evaluate immediately on customers that already meet the alert threshold. If false, it will only evaluate on future customers that trigger the alert threshold. Defaults to true."},"custom_field_filters":{"type":"array","description":"Only present for beta contract invoices. This field's availability is dependent on your client's configuration. A list of custom field filters for alert types that support advanced filtering","items":{"type":"object","required":["entity","key","value"],"properties":{"entity":{"type":"string","enum":["Contract","Commit","ContractCredit"]},"key":{"type":"string"},"value":{"type":"string"}}}},"group_key_filter":{"type":"object","description":"Scopes alert evaluation to a specific presentation group key on individual line items. Only present for spend alerts.","required":["key","value"],"properties":{"key":{"type":"string"},"value":{"type":"string"}}},"invoice_types_filter":{"type":"array","description":"Only supported for invoice_total_reached alerts. A list of invoice types to evaluate.","items":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"}}}},"GetCustomerAlertPayload":{"required":["customer_id","alert_id"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid","description":"The Metronome ID of the customer"},"alert_id":{"type":"string","format":"uuid","description":"The Metronome ID of the alert"}}},"ListCustomerAlertsPayload":{"required":["customer_id"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid","description":"The Metronome ID of the customer"},"alert_statuses":{"type":"array","minItems":1,"items":{"type":"string","enum":["enabled","disabled","archived","ENABLED","DISABLED","ARCHIVED","Enabled","Disabled","Archived"]},"description":"Optionally filter by alert status. If absent, only enabled alerts will be returned."}}},"ResetCustomerAlertsPayload":{"required":["customer_id","alert_id"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid","description":"The Metronome ID of the customer"},"alert_id":{"type":"string","format":"uuid","description":"The Metronome ID of the alert"}}},"CreatePlanSalesforceResponse":{"required":["metronome_customer_id"],"type":"object","properties":{"metronome_customer_id":{"type":"string","format":"uuid"}}},"CustomerAlert":{"required":["customer_status","alert"],"type":"object","properties":{"customer_status":{"type":"string","enum":["ok","in_alarm","evaluating"],"nullable":true,"description":"The status of the customer alert. If the alert is archived, null will be returned."},"triggered_by":{"type":"string","nullable":true,"description":"If present, indicates the reason the alert was triggered."},"alert":{"required":["id","name","type","status","threshold","updated_at"],"type":"object","properties":{"id":{"type":"string","description":"the Metronome ID of the alert"},"name":{"type":"string","description":"Name of the alert"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"type":{"type":"string","enum":["low_credit_balance_reached","spend_threshold_reached","monthly_invoice_total_spend_threshold_reached","low_remaining_days_in_plan_reached","low_remaining_credit_percentage_reached","usage_threshold_reached","low_remaining_days_for_commit_segment_reached","low_remaining_commit_balance_reached","low_remaining_commit_percentage_reached","low_remaining_days_for_contract_credit_segment_reached","low_remaining_contract_credit_balance_reached","low_remaining_contract_credit_percentage_reached","low_remaining_contract_credit_and_commit_balance_reached","invoice_total_reached"],"description":"Type of the alert"},"status":{"type":"string","enum":["enabled","archived","disabled"],"description":"Status of the alert"},"credit_type":{"nullable":true,"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"threshold":{"type":"number","description":"Threshold value of the alert policy"},"updated_at":{"type":"string","format":"date-time","description":"Timestamp for when the alert was last updated"},"credit_grant_type_filters":{"type":"array","items":{"type":"string"},"description":"An array of strings, representing a way to filter the credit grant this alert applies to, by looking at the credit_grant_type field on the credit grant. This field is only defined for CreditPercentage and CreditBalance alerts"},"custom_field_filters":{"type":"array","description":"A list of custom field filters for alert types that support advanced filtering","items":{"type":"object","required":["entity","key","value"],"properties":{"entity":{"type":"string","enum":["Contract","Commit","ContractCredit"]},"key":{"type":"string"},"value":{"type":"string"}}}},"group_key_filter":{"type":"object","description":"Scopes alert evaluation to a specific presentation group key on individual line items. Only present for spend alerts.","required":["key","value"],"properties":{"key":{"type":"string"},"value":{"type":"string"}}},"invoice_types_filter":{"type":"array","description":"Only supported for invoice_total_reached alerts. A list of invoice types to evaluate.","items":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"}}}}}},"Alert":{"required":["id","name","type","status","threshold","updated_at"],"type":"object","properties":{"id":{"type":"string","description":"the Metronome ID of the alert"},"name":{"type":"string","description":"Name of the alert"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"type":{"type":"string","enum":["low_credit_balance_reached","spend_threshold_reached","monthly_invoice_total_spend_threshold_reached","low_remaining_days_in_plan_reached","low_remaining_credit_percentage_reached","usage_threshold_reached","low_remaining_days_for_commit_segment_reached","low_remaining_commit_balance_reached","low_remaining_commit_percentage_reached","low_remaining_days_for_contract_credit_segment_reached","low_remaining_contract_credit_balance_reached","low_remaining_contract_credit_percentage_reached","low_remaining_contract_credit_and_commit_balance_reached","invoice_total_reached"],"description":"Type of the alert"},"status":{"type":"string","enum":["enabled","archived","disabled"],"description":"Status of the alert"},"credit_type":{"nullable":true,"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"threshold":{"type":"number","description":"Threshold value of the alert policy"},"updated_at":{"type":"string","format":"date-time","description":"Timestamp for when the alert was last updated"},"credit_grant_type_filters":{"type":"array","items":{"type":"string"},"description":"An array of strings, representing a way to filter the credit grant this alert applies to, by looking at the credit_grant_type field on the credit grant. This field is only defined for CreditPercentage and CreditBalance alerts"},"custom_field_filters":{"type":"array","description":"A list of custom field filters for alert types that support advanced filtering","items":{"type":"object","required":["entity","key","value"],"properties":{"entity":{"type":"string","enum":["Contract","Commit","ContractCredit"]},"key":{"type":"string"},"value":{"type":"string"}}}},"group_key_filter":{"type":"object","description":"Scopes alert evaluation to a specific presentation group key on individual line items. Only present for spend alerts.","required":["key","value"],"properties":{"key":{"type":"string"},"value":{"type":"string"}}},"invoice_types_filter":{"type":"array","description":"Only supported for invoice_total_reached alerts. A list of invoice types to evaluate.","items":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"}}}},"CustomerBillingProviderConfigurationLookup":{"type":"object","description":"This field's availability is dependent on your client's configuration.","properties":{"billing_provider_configuration_id":{"type":"string","format":"uuid","description":"The Metronome ID of the billing provider configuration"},"billing_provider":{"type":"string","enum":["aws_marketplace","azure_marketplace","gcp_marketplace","stripe","netsuite"]},"delivery_method":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]}}},"BillingProviderType":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"GABillingProviderType":{"type":"string","enum":["aws_marketplace","stripe","azure_marketplace"]},"ContractsBillingProviderType":{"type":"string","enum":["aws_marketplace","azure_marketplace","gcp_marketplace","stripe","netsuite"]},"BillingProviderDeliveryMethodType":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]},"GABillingProviderDeliveryMethodType":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","aws_sns"]},"BillingProviderSettingsType":{"type":"string","enum":["stripe"]},"EndCustomerPlanPayload":{"type":"object","properties":{"ending_before":{"description":"RFC 3339 timestamp for when the plan ends (exclusive) for this customer. Must be at 0:00 UTC (midnight). If not provided, the plan end date will be cleared.","type":"string","format":"date-time"},"void_invoices":{"description":"If true, plan end date can be before the last finalized invoice date. Any invoices generated after the plan end date will be voided.","type":"boolean"},"void_stripe_invoices":{"description":"Only applicable when void_invoices is set to true. If true, for every invoice that is voided we will also attempt to void/delete the stripe invoice (if any). Stripe invoices will be voided if finalized or deleted if still in draft state.","type":"boolean"}}},"AddPlanToCustomerPayload":{"required":["plan_id","starting_on"],"type":"object","properties":{"plan_id":{"type":"string","format":"uuid"},"starting_on":{"description":"RFC 3339 timestamp for when the plan becomes active for this customer. Must be at 0:00 UTC (midnight).","type":"string","format":"date-time"},"ending_before":{"description":"RFC 3339 timestamp for when the plan ends (exclusive) for this customer. Must be at 0:00 UTC (midnight).","type":"string","format":"date-time"},"net_payment_terms_days":{"description":"Number of days after issuance of invoice after which the invoice is due (e.g. Net 30).","type":"number"},"price_adjustments":{"type":"array","description":"A list of price adjustments can be applied on top of the pricing in the plans. See the [price adjustments documentation](https://docs.metronome.com/pricing/managing-plans/#price-adjustments) for details.","items":{"type":"object","required":["charge_id","adjustment_type","start_period"],"properties":{"charge_id":{"type":"string","format":"uuid"},"adjustment_type":{"type":"string","enum":["percentage","fixed","override","quantity"]},"value":{"type":"number","description":"The amount of change to a price. Percentage and fixed adjustments can be positive or negative. Percentage-based adjustments should be decimals, e.g. -0.05 for a 5% discount."},"quantity":{"type":"number","description":"the overridden quantity for a fixed charge"},"tier":{"type":"number","description":"Used in pricing tiers.  Indicates at what metric value the price applies."},"start_period":{"type":"number","description":"Used in price ramps.  Indicates how many billing periods pass before the charge applies."}}}},"trial_spec":{"required":["length_in_days"],"type":"object","description":"A custom trial can be set for the customer's plan. See the [trial configuration documentation](https://docs.metronome.com/provisioning/configure-trials/) for details.","properties":{"length_in_days":{"type":"number","description":"Length of the trial period in days."},"spending_cap":{"type":"object","required":["credit_type_id","amount"],"properties":{"credit_type_id":{"type":"string","description":"The credit type ID for the spending cap."},"amount":{"type":"number","description":"The credit amount in the given denomination based on the credit type, e.g. US cents."}}}}},"overage_rate_adjustments":{"type":"array","description":"An optional list of overage rates that override the rates of the original plan configuration. These new rates will apply to all pricing ramps.","items":{"type":"object","required":["custom_credit_type_id","fiat_currency_credit_type_id","to_fiat_conversion_factor"],"properties":{"custom_credit_type_id":{"type":"string","format":"uuid"},"fiat_currency_credit_type_id":{"type":"string","format":"uuid"},"to_fiat_conversion_factor":{"type":"number","description":"The overage cost in fiat currency for each credit of the custom credit type."}}}}}},"AddPlanFromSalesforceExperimentalPayload":{"required":["plan_id","starting_on","version","salesforce_records","salesforce_account_id","customer_name","deal_type"],"type":"object","properties":{"plan_id":{"type":"string","format":"uuid"},"starting_on":{"description":"RFC 3339 timestamp for when the plan becomes active for this customer. Must be at 0:00 UTC (midnight).","type":"string","format":"date-time"},"ending_before":{"description":"RFC 3339 timestamp for when the plan ends (exclusive) for this customer. Must be at 0:00 UTC (midnight).","type":"string","format":"date-time"},"net_payment_terms_days":{"description":"Number of days after issuance of invoice after which the invoice is due (e.g. Net 30).","type":"number"},"customer_id":{"description":"The identifer of the customer","type":"string","format":"uuid"},"customer_name":{"description":"The name of the customer","type":"string"},"salesforce_account_id":{"description":"Salesforce Account ID","type":"string"},"version":{"description":"Version of the payload being sent from Salesforce","type":"number"},"salesforce_records":{"type":"array","description":"Records being sent from Salesforce to generate the contract","items":{"type":"object"}},"deal_type":{"type":"string","description":"Defines the kind of contract being created","enum":["new","renewal","amendment"]}}},"AddOneTimeChargePayload":{"required":["charge_id","price","quantity","invoice_start_timestamp","customer_plan_id","description"],"type":"object","properties":{"charge_id":{"description":"The Metronome ID of the charge to add to the invoice. Note that the charge must be on a product that is not on the current plan, and the product must have only fixed charges.","type":"string","format":"uuid"},"price":{"description":"The price of the charge. This price will match the currency on the invoice, e.g. USD cents.","type":"number"},"quantity":{"type":"number"},"description":{"type":"string"},"customer_plan_id":{"description":"The Metronome ID of the customer plan to add the charge to.","type":"string","format":"uuid"},"invoice_start_timestamp":{"description":"The start_timestamp of the invoice to add the charge to.","type":"string","format":"date-time"}}},"CreateBillableMetricPayload":{"type":"object","required":["name","aggregate","filter"],"properties":{"name":{"type":"string"},"aggregate":{"type":"string","enum":["count","Count","COUNT","latest","Latest","LATEST","max","Max","MAX","sum","Sum","SUM","unique","Unique","UNIQUE"]},"aggregate_key":{"type":"string"},"filter":{"type":"object","description":"JSON Schema filter to apply to the metric","additionalProperties":true},"group_keys":{"type":"array","items":{"type":"string"}},"group_values":{"type":"array","items":{"type":"string"}}}},"SetIngestAliasesPayload":{"required":["ingest_aliases"],"type":"object","properties":{"ingest_aliases":{"type":"array","items":{"type":"string","minLength":1,"maxLength":128},"maxItems":2000}}},"LegacyCreateCustomerPayload":{"required":["name"],"type":"object","properties":{"ingest_aliases":{"type":"array","description":"Aliases that can be used to refer to this customer in usage events","items":{"type":"string","minLength":1,"maxLength":128},"maxItems":2000},"external_id":{"type":"string","minLength":1,"maxLength":128,"description":"(deprecated, use ingest_aliases instead) the first ID (Metronome ID or ingest alias) that can be used in usage events"},"name":{"type":"string","description":"This will be truncated to 160 characters if the provided name is longer."},"billing_config":{"required":["billing_provider_type","billing_provider_customer_id"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"billing_provider_customer_id":{"type":"string"},"stripe_collection_method":{"type":"string","enum":["charge_automatically","send_invoice"]},"aws_product_code":{"type":"string"},"aws_region":{"type":"string","enum":["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-west-1","us-west-2"]}}},"custom_fields":{"x-cf-entity":"customer","type":"object","additionalProperties":{"type":"string"}}}},"CreateCustomerPayload":{"required":["name"],"type":"object","properties":{"ingest_aliases":{"type":"array","description":"Aliases that can be used to refer to this customer in usage events","items":{"type":"string","minLength":1,"maxLength":128},"maxItems":2000},"name":{"type":"string","description":"This will be truncated to 160 characters if the provided name is longer."},"billing_config":{"required":["billing_provider_type","billing_provider_customer_id"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"billing_provider_customer_id":{"type":"string"},"stripe_collection_method":{"type":"string","enum":["charge_automatically","send_invoice"]},"aws_product_code":{"type":"string"},"aws_region":{"type":"string","enum":["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-west-1","us-west-2"]}}},"custom_fields":{"x-cf-entity":"customer","type":"object","additionalProperties":{"type":"string"}}}},"SetCustomerNamePayload":{"required":["name"],"type":"object","properties":{"name":{"type":"string","description":"The new name for the customer. This will be truncated to 160 characters if the provided name is longer."}}},"CustomerConfigPayload":{"type":"object","properties":{"salesforce_account_id":{"type":"string","description":"The Salesforce account ID for the customer","nullable":true},"leave_stripe_invoices_in_draft":{"type":"boolean","description":"Leave in draft or set to auto-advance on invoices sent to Stripe. Falls back to the client-level config if unset, which defaults to true if unset.","nullable":true}}},"CustomerConfig":{"required":["salesforce_account_id"],"type":"object","properties":{"salesforce_account_id":{"type":"string","description":"The Salesforce account ID for the customer","nullable":true}}},"Customer":{"required":["external_id","ingest_aliases","id","name"],"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"the Metronome ID of the customer"},"external_id":{"type":"string","description":"(deprecated, use ingest_aliases instead) the first ID (Metronome or ingest alias) that can be used in usage events"},"ingest_aliases":{"type":"array","description":"aliases for this customer that can be used instead of the Metronome customer ID in usage events","items":{"type":"string"}},"name":{"type":"string"},"custom_fields":{"x-cf-entity":"customer","type":"object","additionalProperties":{"type":"string"}}}},"CustomerDetail":{"required":["external_id","id","name","customer_config","ingest_aliases","custom_fields"],"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"the Metronome ID of the customer"},"external_id":{"type":"string","description":"(deprecated, use ingest_aliases instead) the first ID (Metronome or ingest alias) that can be used in usage events"},"ingest_aliases":{"type":"array","description":"aliases for this customer that can be used instead of the Metronome customer ID in usage events","items":{"type":"string"}},"name":{"type":"string"},"customer_config":{"required":["salesforce_account_id"],"type":"object","properties":{"salesforce_account_id":{"type":"string","description":"The Salesforce account ID for the customer","nullable":true}}},"custom_fields":{"x-cf-entity":"customer","type":"object","additionalProperties":{"type":"string"}},"current_billable_status":{"required":["value"],"type":"object","description":"This field's availability is dependent on your client's configuration.","properties":{"value":{"type":"string","enum":["billable","unbillable"]},"effective_at":{"type":"string","format":"date-time","nullable":true}}}}},"CustomerPlanDetail":{"required":["id","name","custom_fields","starting_on","customer_plan_id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"starting_on":{"type":"string","format":"date-time","description":"The start date of the plan"},"ending_before":{"type":"string","format":"date-time","description":"The end date of the plan","nullable":true},"custom_fields":{"x-cf-entity":"plan","type":"object","additionalProperties":{"type":"string"}},"customer_plan_id":{"type":"string","format":"uuid"}}},"CustomerAndPlanDetail":{"required":["customer_details","plan_details"],"type":"object","properties":{"customer_details":{"required":["external_id","id","name","customer_config","ingest_aliases","custom_fields"],"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"the Metronome ID of the customer"},"external_id":{"type":"string","description":"(deprecated, use ingest_aliases instead) the first ID (Metronome or ingest alias) that can be used in usage events"},"ingest_aliases":{"type":"array","description":"aliases for this customer that can be used instead of the Metronome customer ID in usage events","items":{"type":"string"}},"name":{"type":"string"},"customer_config":{"required":["salesforce_account_id"],"type":"object","properties":{"salesforce_account_id":{"type":"string","description":"The Salesforce account ID for the customer","nullable":true}}},"custom_fields":{"x-cf-entity":"customer","type":"object","additionalProperties":{"type":"string"}},"current_billable_status":{"required":["value"],"type":"object","description":"This field's availability is dependent on your client's configuration.","properties":{"value":{"type":"string","enum":["billable","unbillable"]},"effective_at":{"type":"string","format":"date-time","nullable":true}}}}},"plan_details":{"required":["id","name","custom_fields","starting_on","customer_plan_id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"starting_on":{"type":"string","format":"date-time","description":"The start date of the plan"},"ending_before":{"type":"string","format":"date-time","description":"The end date of the plan","nullable":true},"custom_fields":{"x-cf-entity":"plan","type":"object","additionalProperties":{"type":"string"}},"customer_plan_id":{"type":"string","format":"uuid"}}}}},"BillableStatus":{"type":"string","enum":["billable","unbillable"]},"CreateCreditGrantPayload":{"required":["customer_id","grant_amount","name","expires_at","paid_amount","priority"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid","description":"the Metronome ID of the customer"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"grant_amount":{"description":"the amount of credits granted","type":"object","required":["amount","credit_type_id"],"properties":{"amount":{"type":"number"},"credit_type_id":{"type":"string","format":"uuid"}}},"paid_amount":{"description":"the amount paid for this credit grant","type":"object","required":["amount","credit_type_id"],"properties":{"amount":{"type":"number"},"credit_type_id":{"type":"string","format":"uuid"}}},"name":{"type":"string","description":"the name of the credit grant as it will appear on invoices"},"effective_at":{"type":"string","format":"date-time","description":"The credit grant will only apply to billing periods that end at or after this timestamp."},"expires_at":{"type":"string","format":"date-time","description":"The credit grant will only apply to billing periods that end before this timestamp."},"invoice_date":{"type":"string","format":"date-time","description":"The date to issue an invoice for the paid_amount."},"priority":{"type":"number"},"reason":{"type":"string"},"credit_grant_type":{"type":"string"},"product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"The product(s) which these credits will be applied to. (If unspecified, the credits will be applied to charges for all products.). The array ordering specified here will be used to determine the order in which credits will be applied to invoice line items"},"rollover_settings":{"type":"object","description":"Configure a rollover for this credit grant so if it expires it rolls over a configured amount to a new credit grant. This feature is currently opt-in only. Contact Metronome to be added to the beta.","required":["expires_at","priority","rollover_amount"],"properties":{"expires_at":{"type":"string","format":"date-time","description":"The date to expire the rollover credits."},"priority":{"type":"number","description":"The priority to give the rollover credit grant that gets created when a rollover happens."},"rollover_amount":{"description":"Specify how much to rollover to the rollover credit grant","oneOf":[{"type":"object","required":["type","value"],"properties":{"type":{"type":"string","enum":["MAX_PERCENTAGE"],"description":"Rollover up to a percentage of the original credit grant amount."},"value":{"type":"number","description":"The maximum percentage (0-1) of the original credit grant to rollover.","minimum":0,"maximum":1}}},{"type":"object","required":["type","value"],"properties":{"type":{"type":"string","enum":["MAX_AMOUNT"],"description":"Rollover up to a fixed amount of the original credit grant amount."},"value":{"type":"number","description":"The maximum amount to rollover."}}}]}}},"custom_fields":{"description":"Custom fields to attach to the credit grant.","type":"object","additionalProperties":{"type":"string"}}}},"CreditGrantRolloverSettings":{"type":"object","description":"Configure a rollover for this credit grant so if it expires it rolls over a configured amount to a new credit grant. This feature is currently opt-in only. Contact Metronome to be added to the beta.","required":["expires_at","priority","rollover_amount"],"properties":{"expires_at":{"type":"string","format":"date-time","description":"The date to expire the rollover credits."},"priority":{"type":"number","description":"The priority to give the rollover credit grant that gets created when a rollover happens."},"rollover_amount":{"description":"Specify how much to rollover to the rollover credit grant","oneOf":[{"type":"object","required":["type","value"],"properties":{"type":{"type":"string","enum":["MAX_PERCENTAGE"],"description":"Rollover up to a percentage of the original credit grant amount."},"value":{"type":"number","description":"The maximum percentage (0-1) of the original credit grant to rollover.","minimum":0,"maximum":1}}},{"type":"object","required":["type","value"],"properties":{"type":{"type":"string","enum":["MAX_AMOUNT"],"description":"Rollover up to a fixed amount of the original credit grant amount."},"value":{"type":"number","description":"The maximum amount to rollover."}}}]}}},"RolloverAmountMaxPercentage":{"type":"object","required":["type","value"],"properties":{"type":{"type":"string","enum":["MAX_PERCENTAGE"],"description":"Rollover up to a percentage of the original credit grant amount."},"value":{"type":"number","description":"The maximum percentage (0-1) of the original credit grant to rollover.","minimum":0,"maximum":1}}},"RolloverAmountMaxAmount":{"type":"object","required":["type","value"],"properties":{"type":{"type":"string","enum":["MAX_AMOUNT"],"description":"Rollover up to a fixed amount of the original credit grant amount."},"value":{"type":"number","description":"The maximum amount to rollover."}}},"NameValuePair":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"}}},"GetRechargeSettingsPayload":{"type":"object","required":["id","recharge_to_amount","recharge_threshold","credit_type_id","grant_duration","prepaid_options","name","priority"],"properties":{"recharge_to_amount":{"type":"number","description":"the amount to recharge to","minimum":0},"recharge_threshold":{"type":"number","description":"the threshold at which to recharge","minimum":0},"enabled":{"type":"boolean"},"id":{"type":"string","format":"uuid","description":"the Metronome ID of the recharge settings"},"name":{"type":"string","description":"the name of the credit grant as it will appear on invoices"},"priority":{"type":"number"},"reason":{"type":"string","description":"Reason for the credit grant. This may be shown to your users."},"credit_grant_type":{"type":"string","description":"Internal-only identifier used to categorize your credit grant. Your users won't see this."},"product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"The product(s) which these credits will be applied to. (If unspecified, the credits will be applied to charges for all products.). The array ordering specified here will be used to determine the order in which credits will be applied to invoice line items"},"grant_duration":{"type":"number","description":"the duration (in months) for which the credits will be granted"},"credit_type_id":{"type":"string","format":"uuid","description":"the Metronome ID of the credit type to recharge"},"prepaid_options":{"type":"object","description":"Options for prepaid credits.  If specified, the credits will not be released until payment is received.","required":["billing_provider_type"],"properties":{"billing_provider_type":{"type":"string","description":"The type of billing provider to use for the prepaid invoice.  Currently only 'stripe' is supported."},"stripe_options":{"type":"object","description":"Options for prepaid credits using Stripe","properties":{"calculate_tax":{"type":"boolean","description":"Whether to calculate tax for the prepaid invoice Defaults to false if not provided."},"tax_platform":{"description":"The tax platform used for calculating tax. Defaults to 'stripe' if not provided.","type":"string","enum":["stripe","anrok"]},"skip_tax_on_tax_platform_error":{"type":"boolean","description":"Whether to skip tax calculation if the tax platform returns an error. Defaults to true if not provided."},"precalculated_tax":{"type":"number","description":"The tax amount to use for the prepaid invoice. If provided, this will be used instead of calculating tax. Not applicable for recharge settings. Decimal numbers are not supported and the value is the smallest denomination of the currency (e.g. cents)."},"tax_product_id":{"type":"string","description":"Optional Stripe product ID to use for the tax line item in Stripe. If omitted a random Stripe product will be created and used for the invoice."},"redirect_url":{"type":"string","description":"The URL to redirect the user to after they have corrected a billing issue"},"invoice_custom_fields":{"type":"array","description":"Custom fields to add to the prepaid invoice","items":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"}}}},"invoice_metadata":{"type":"object","additionalProperties":true,"description":"Invoice metadata to add to the prepaid invoice"},"payment_method_id":{"type":"string","description":"Optional Stripe payment method ID to use."},"product_id":{"type":"string","description":"Optional Stripe product ID for the invoice line item. This will be passed to Stripe on the associated credit grant invoice line item and other tax platforms if applicable."},"radar_session_id":{"type":"string","description":"Optional Radar session ID to send to Stripe when creating the payment intent."}}}}},"status":{"type":"object","required":["code"],"properties":{"code":{"type":"string","enum":["active","disabled","processing","disabled_error"],"description":"the status of the recharge"},"stripe_error_code":{"type":"string","description":"the error code returned by Stripe if the reason why the recharge failed"},"last_credit_grant":{"type":"string","format":"uuid","description":"the Metronome ID of the last credit grant that was created by this recharge"}}}}},"RechargeSettingsStatus":{"type":"object","required":["code"],"properties":{"code":{"type":"string","enum":["active","disabled","processing","disabled_error"],"description":"the status of the recharge"},"stripe_error_code":{"type":"string","description":"the error code returned by Stripe if the reason why the recharge failed"},"last_credit_grant":{"type":"string","format":"uuid","description":"the Metronome ID of the last credit grant that was created by this recharge"}}},"RechargeSettingsPayload":{"type":"object","required":["recharge_to_amount","recharge_threshold","credit_type_id","grant_duration","prepaid_options","name","priority"],"properties":{"recharge_to_amount":{"type":"number","description":"the amount to recharge to","minimum":0},"recharge_threshold":{"type":"number","description":"the threshold at which to recharge","minimum":0},"enabled":{"type":"boolean"},"recharge_now":{"type":"boolean","description":"If true, a recharge will be triggered immediately if the credit balance is under the recharge_threshold and the result of the recharge will be returned in the response. The settings will be updated regardless of the result of the recharge but the settings will have enabled set to 'false' if the recharge fails. An requires action result will be considered a failure for the purposes of this flag."},"name":{"type":"string","description":"the name of the credit grant as it will appear on invoices"},"priority":{"type":"number"},"reason":{"type":"string","description":"Reason for the credit grant. This may be shown to your users."},"credit_grant_type":{"type":"string","description":"Internal-only identifier used to categorize your credit grant. Your users won't see this."},"product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"The product(s) which these credits will be applied to. (If unspecified, the credits will be applied to charges for all products.). The array ordering specified here will be used to determine the order in which credits will be applied to invoice line items"},"grant_duration":{"type":"number","description":"the duration (in months) for which the credits will be granted"},"credit_type_id":{"type":"string","format":"uuid","description":"the Metronome ID of the credit type to recharge"},"prepaid_options":{"type":"object","description":"Options for prepaid credits.  If specified, the credits will not be released until payment is received.","required":["billing_provider_type"],"properties":{"billing_provider_type":{"type":"string","description":"The type of billing provider to use for the prepaid invoice.  Currently only 'stripe' is supported."},"stripe_options":{"type":"object","description":"Options for prepaid credits using Stripe","properties":{"calculate_tax":{"type":"boolean","description":"Whether to calculate tax for the prepaid invoice Defaults to false if not provided."},"tax_platform":{"description":"The tax platform used for calculating tax. Defaults to 'stripe' if not provided.","type":"string","enum":["stripe","anrok"]},"skip_tax_on_tax_platform_error":{"type":"boolean","description":"Whether to skip tax calculation if the tax platform returns an error. Defaults to true if not provided."},"tax_product_id":{"type":"string","description":"Optional Stripe product ID to use for the tax line item. If omitted a random Stripe product will be created and used for the invoice."},"redirect_url":{"type":"string","description":"The URL to redirect the user to after they have corrected a billing issue"},"invoice_custom_fields":{"type":"array","description":"Custom fields to add to the prepaid invoice","items":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"}}}},"invoice_metadata":{"type":"object","additionalProperties":true,"description":"Invoice metadata to add to the prepaid invoice"},"payment_method_id":{"type":"string","description":"Optional Stripe payment method ID to use."},"product_id":{"type":"string","description":"Optional Stripe product ID to use for the grant."}}}}}}},"CreatePrepaidCreditGrantPayload":{"type":"object","required":["prepaid_options","customer_id","grant_amount","name","expires_at","invoice_date","paid_amount","priority"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"the Metronome ID of the customer"},"grant_amount":{"description":"the amount of credits granted","type":"object","required":["amount","credit_type_id"],"properties":{"amount":{"type":"number"},"credit_type_id":{"type":"string","format":"uuid"}}},"paid_amount":{"description":"the amount paid for this credit grant; must be greater than 0","type":"object","required":["amount","credit_type_id"],"properties":{"amount":{"type":"number"},"credit_type_id":{"type":"string","format":"uuid"}}},"name":{"type":"string","description":"the name of the credit grant as it will appear on invoices"},"effective_at":{"type":"string","format":"date-time","description":"The credit grant will only apply to billing periods that end at or after this timestamp."},"expires_at":{"type":"string","format":"date-time","description":"The credit grant will only apply to billing periods that end before this timestamp."},"invoice_date":{"type":"string","format":"date-time","description":"The date to issue an invoice for the paid_amount."},"priority":{"type":"number"},"reason":{"type":"string","description":"Reason for the credit grant. This may be shown to your users."},"credit_grant_type":{"type":"string","description":"Internal-only identifier used to categorize your credit grant. Your users won't see this."},"product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"The product(s) which these credits will be applied to. (If unspecified, the credits will be applied to charges for all products.). The array ordering specified here will be used to determine the order in which credits will be applied to invoice line items"},"prepaid_options":{"type":"object","description":"Options for prepaid credits.  If specified, the credits will not be released until payment is received.","required":["billing_provider_type"],"properties":{"billing_provider_type":{"type":"string","description":"The type of billing provider to use for the prepaid invoice.  Currently only 'stripe' is supported."},"stripe_options":{"type":"object","description":"Options for prepaid credits using Stripe","properties":{"calculate_tax":{"type":"boolean","description":"Whether to calculate tax for the prepaid invoice Defaults to false if not provided."},"tax_platform":{"description":"The tax platform used for calculating tax. Defaults to 'stripe' if not provided.","type":"string","enum":["stripe","anrok"]},"skip_tax_on_tax_platform_error":{"type":"boolean","description":"Whether to skip tax calculation if the tax platform returns an error. Defaults to true if not provided."},"precalculated_tax":{"type":"number","description":"The tax amount to use for the prepaid invoice. If provided, this will be used instead of calculating tax. Not applicable for recharge settings. Decimal numbers are not supported and the value is the smallest denomination of the currency (e.g. cents)."},"tax_product_id":{"type":"string","description":"Optional Stripe product ID to use for the tax line item in Stripe. If omitted a random Stripe product will be created and used for the invoice."},"redirect_url":{"type":"string","description":"The URL to redirect the user to after they have corrected a billing issue"},"invoice_custom_fields":{"type":"array","description":"Custom fields to add to the prepaid invoice","items":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"}}}},"invoice_metadata":{"type":"object","additionalProperties":true,"description":"Invoice metadata to add to the prepaid invoice"},"payment_method_id":{"type":"string","description":"Optional Stripe payment method ID to use."},"product_id":{"type":"string","description":"Optional Stripe product ID for the invoice line item. This will be passed to Stripe on the associated credit grant invoice line item and other tax platforms if applicable."},"radar_session_id":{"type":"string","description":"Optional Radar session ID to send to Stripe when creating the payment intent."}}}}}}},"PrepaidGrantOptions":{"type":"object","description":"Options for prepaid credits.  If specified, the credits will not be released until payment is received.","required":["billing_provider_type"],"properties":{"billing_provider_type":{"type":"string","description":"The type of billing provider to use for the prepaid invoice.  Currently only 'stripe' is supported."},"stripe_options":{"type":"object","description":"Options for prepaid credits using Stripe","properties":{"calculate_tax":{"type":"boolean","description":"Whether to calculate tax for the prepaid invoice Defaults to false if not provided."},"tax_platform":{"description":"The tax platform used for calculating tax. Defaults to 'stripe' if not provided.","type":"string","enum":["stripe","anrok"]},"skip_tax_on_tax_platform_error":{"type":"boolean","description":"Whether to skip tax calculation if the tax platform returns an error. Defaults to true if not provided."},"precalculated_tax":{"type":"number","description":"The tax amount to use for the prepaid invoice. If provided, this will be used instead of calculating tax. Not applicable for recharge settings. Decimal numbers are not supported and the value is the smallest denomination of the currency (e.g. cents)."},"tax_product_id":{"type":"string","description":"Optional Stripe product ID to use for the tax line item in Stripe. If omitted a random Stripe product will be created and used for the invoice."},"redirect_url":{"type":"string","description":"The URL to redirect the user to after they have corrected a billing issue"},"invoice_custom_fields":{"type":"array","description":"Custom fields to add to the prepaid invoice","items":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"}}}},"invoice_metadata":{"type":"object","additionalProperties":true,"description":"Invoice metadata to add to the prepaid invoice"},"payment_method_id":{"type":"string","description":"Optional Stripe payment method ID to use."},"product_id":{"type":"string","description":"Optional Stripe product ID for the invoice line item. This will be passed to Stripe on the associated credit grant invoice line item and other tax platforms if applicable."},"radar_session_id":{"type":"string","description":"Optional Radar session ID to send to Stripe when creating the payment intent."}}}}},"PrepaidRechargeGrantOptions":{"type":"object","description":"Options for prepaid credits.  If specified, the credits will not be released until payment is received.","required":["billing_provider_type"],"properties":{"billing_provider_type":{"type":"string","description":"The type of billing provider to use for the prepaid invoice.  Currently only 'stripe' is supported."},"stripe_options":{"type":"object","description":"Options for prepaid credits using Stripe","properties":{"calculate_tax":{"type":"boolean","description":"Whether to calculate tax for the prepaid invoice Defaults to false if not provided."},"tax_platform":{"description":"The tax platform used for calculating tax. Defaults to 'stripe' if not provided.","type":"string","enum":["stripe","anrok"]},"skip_tax_on_tax_platform_error":{"type":"boolean","description":"Whether to skip tax calculation if the tax platform returns an error. Defaults to true if not provided."},"tax_product_id":{"type":"string","description":"Optional Stripe product ID to use for the tax line item. If omitted a random Stripe product will be created and used for the invoice."},"redirect_url":{"type":"string","description":"The URL to redirect the user to after they have corrected a billing issue"},"invoice_custom_fields":{"type":"array","description":"Custom fields to add to the prepaid invoice","items":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"}}}},"invoice_metadata":{"type":"object","additionalProperties":true,"description":"Invoice metadata to add to the prepaid invoice"},"payment_method_id":{"type":"string","description":"Optional Stripe payment method ID to use."},"product_id":{"type":"string","description":"Optional Stripe product ID to use for the grant."}}}}},"TaxPlatform":{"type":"string","enum":["stripe","anrok"]},"EditCreditGrantPayload":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid","description":"the ID of the credit grant"},"name":{"type":"string","description":"the updated name for the credit grant"},"expires_at":{"type":"string","format":"date-time","description":"the updated expiration date for the credit grant"},"credit_grant_type":{"type":"string","description":"the updated credit grant type"}}},"CreditGrant":{"required":["id","name","customer_id","effective_at","expires_at","priority","grant_amount","paid_amount","balance","deductions","pending_deductions","custom_fields"],"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"the Metronome ID of the credit grant"},"name":{"type":"string"},"customer_id":{"type":"string","format":"uuid","description":"the Metronome ID of the customer"},"invoice_id":{"type":"string","nullable":true,"format":"uuid","description":"the Metronome ID of the invoice with the purchase charge for this credit grant, if applicable"},"uniqueness_key":{"nullable":true,"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"reason":{"type":"string","nullable":true},"credit_grant_type":{"type":"string","nullable":true},"effective_at":{"type":"string","format":"date-time"},"expires_at":{"type":"string","format":"date-time"},"priority":{"type":"number"},"grant_amount":{"description":"the amount of credits initially granted","type":"object","required":["amount","credit_type"],"properties":{"amount":{"type":"number"},"credit_type":{"description":"the credit type for the amount granted","required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"paid_amount":{"description":"the amount paid for this credit grant","type":"object","required":["amount","credit_type"],"properties":{"amount":{"type":"number"},"credit_type":{"description":"the credit type for the amount paid","required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"balance":{"description":"The effective balance of the grant as of the end of the customer's current billing period. Expiration deductions will be included only if the grant expires before the end of the current billing period.","type":"object","required":["excluding_pending","including_pending","effective_at"],"properties":{"excluding_pending":{"type":"number","description":"The grant's current balance including all posted deductions. If the grant has expired, this amount will be 0."},"including_pending":{"type":"number","description":"The grant's current balance including all posted and pending deductions. If the grant expires before the end of the customer's current billing period, this amount will be 0."},"effective_at":{"type":"string","format":"date-time","description":"The end_date of the customer's current billing period."}}},"deductions":{"type":"array","items":{"type":"object","required":["amount","reason","running_balance","effective_at","created_by","credit_grant_id"],"properties":{"amount":{"type":"number","description":"an amount representing the change to the customer's credit balance"},"reason":{"type":"string","example":"Automated invoice deduction"},"running_balance":{"type":"number","description":"the running balance for this credit type at the time of the ledger entry, including all preceding charges"},"effective_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"credit_grant_id":{"type":"string","format":"uuid","description":"the credit grant this entry is related to"},"invoice_id":{"type":"string","format":"uuid","nullable":true,"description":"if this entry is a deduction, the Metronome ID of the invoice where the credit deduction was consumed; if this entry is a grant, the Metronome ID of the invoice where the grant's paid_amount was charged"}}}},"pending_deductions":{"type":"array","items":{"type":"object","required":["amount","reason","running_balance","effective_at","created_by","credit_grant_id"],"properties":{"amount":{"type":"number","description":"an amount representing the change to the customer's credit balance"},"reason":{"type":"string","example":"Automated invoice deduction"},"running_balance":{"type":"number","description":"the running balance for this credit type at the time of the ledger entry, including all preceding charges"},"effective_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"credit_grant_id":{"type":"string","format":"uuid","description":"the credit grant this entry is related to"},"invoice_id":{"type":"string","format":"uuid","nullable":true,"description":"if this entry is a deduction, the Metronome ID of the invoice where the credit deduction was consumed; if this entry is a grant, the Metronome ID of the invoice where the grant's paid_amount was charged"}}}},"products":{"description":"The products which these credits will be applied to. (If unspecified, the credits will be applied to charges for all products.)","type":"array","items":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string"},"name":{"type":"string"}}}},"custom_fields":{"x-cf-entity":"credit_grant","type":"object","additionalProperties":{"type":"string"}}}},"ListCreditGrantPayload":{"type":"object","properties":{"credit_type_ids":{"description":"An array of credit type IDs. This must not be specified if credit_grant_ids is specified.","type":"array","items":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc, 0e5b8609-d901-4992-b394-c3c2e3f37b1c"},"customer_ids":{"description":"An array of Metronome customer IDs. This must not be specified if credit_grant_ids is specified.","type":"array","items":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc, 0e5b8609-d901-4992-b394-c3c2e3f37b1c"},"credit_grant_ids":{"description":"An array of credit grant IDs. If this is specified, neither credit_type_ids nor customer_ids may be specified.","type":"array","items":{"type":"string","format":"uuid"},"example":"d7abd0cd-4ae9-4db7-8676-e986a4ebd8dc, 0e5b8609-d901-4992-b394-c3c2e3f37b1c"},"not_expiring_before":{"description":"Only return credit grants that expire at or after this timestamp.","type":"string","format":"date-time","example":"2022-02-01T00:00:00Z"},"effective_before":{"description":"Only return credit grants that are effective before this timestamp (exclusive).","type":"string","format":"date-time","example":"2022-02-01T00:00:00Z"}}},"CustomFieldFilterType":{"type":"object","required":["entity","key","value"],"properties":{"entity":{"type":"string","enum":["Contract","Commit","ContractCredit"]},"key":{"type":"string"},"value":{"type":"string"}}},"GroupKeyFilterType":{"type":"object","description":"Scopes alert evaluation to a specific presentation group key on individual line items. Only present for spend alerts.","required":["key","value"],"properties":{"key":{"type":"string"},"value":{"type":"string"}}},"InvoiceTypesFilterType":{"type":"array","description":"Only supported for invoice_total_reached alerts. A list of invoice types to evaluate.","items":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"}},"CreditType":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"CreditTypeConversionInput":{"type":"object","required":["custom_credit_type_id","fiat_per_custom_credit"],"properties":{"custom_credit_type_id":{"type":"string","format":"uuid"},"fiat_per_custom_credit":{"type":"number"}}},"CreditTypeConversion":{"required":["fiat_per_custom_credit","custom_credit_type"],"type":"object","properties":{"fiat_per_custom_credit":{"type":"string"},"custom_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"Event":{"required":["customer_id","event_type","timestamp","transaction_id"],"type":"object","properties":{"transaction_id":{"type":"string","minLength":1,"maxLength":128},"customer_id":{"type":"string","minLength":1},"event_type":{"type":"string","minLength":1},"timestamp":{"type":"string","description":"RFC 3339 formatted"},"properties":{"type":"object","additionalProperties":true}}},"SignedEvent":{"required":["jws_data"],"type":"object","properties":{"jws_data":{"type":"string","minLength":1}}},"Error":{"required":["message"],"type":"object","properties":{"message":{"type":"string"}}},"PrepaidGrantError":{"required":["message"],"type":"object","properties":{"message":{"type":"string"},"stripe_error":{"type":"object","description":"The error returned by Stripe when attempting to create a prepaid grant.","additionalProperties":true}}},"CreditBalance":{"type":"object","required":["balance","credit_type"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"balance":{"type":"number","example":100},"pending_delta":{"type":"number","example":-100}}},"CreditLedgerEntry":{"type":"object","required":["amount","reason","running_balance","effective_at","created_by","credit_grant_id"],"properties":{"amount":{"type":"number","description":"an amount representing the change to the customer's credit balance"},"reason":{"type":"string","example":"Automated invoice deduction"},"running_balance":{"type":"number","description":"the running balance for this credit type at the time of the ledger entry, including all preceding charges"},"effective_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"credit_grant_id":{"type":"string","format":"uuid","description":"the credit grant this entry is related to"},"invoice_id":{"type":"string","format":"uuid","nullable":true,"description":"if this entry is a deduction, the Metronome ID of the invoice where the credit deduction was consumed; if this entry is a grant, the Metronome ID of the invoice where the grant's paid_amount was charged"}}},"CreditTypeLedger":{"type":"object","required":["credit_type","starting_balance","ending_balance","entries","pending_entries"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_balance":{"type":"object","required":["excluding_pending","including_pending","effective_at"],"properties":{"excluding_pending":{"type":"number","description":"the starting balance, including all posted grants, deductions, and expirations that happened at or before the effective_at timestamp"},"including_pending":{"type":"number","description":"the excluding_pending balance plus any pending activity that has not been posted at the time of the query"},"effective_at":{"type":"string","format":"date-time","description":"the starting_on request parameter (if supplied) or the first credit grant's effective_at date"}}},"ending_balance":{"description":"the effective balances at the end of the specified time window","type":"object","required":["excluding_pending","including_pending","effective_at"],"properties":{"excluding_pending":{"type":"number","description":"the ending balance, including the balance of all grants that have not expired before the effective_at date and deductions that happened before the effective_at date"},"including_pending":{"type":"number","description":"the excluding_pending balance plus any pending invoice deductions and expirations that will happen by the effective_at date"},"effective_at":{"type":"string","format":"date-time","description":"the ending_before request parameter (if supplied) or the current billing period's end date"}}},"entries":{"type":"array","items":{"type":"object","required":["amount","reason","running_balance","effective_at","created_by","credit_grant_id"],"properties":{"amount":{"type":"number","description":"an amount representing the change to the customer's credit balance"},"reason":{"type":"string","example":"Automated invoice deduction"},"running_balance":{"type":"number","description":"the running balance for this credit type at the time of the ledger entry, including all preceding charges"},"effective_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"credit_grant_id":{"type":"string","format":"uuid","description":"the credit grant this entry is related to"},"invoice_id":{"type":"string","format":"uuid","nullable":true,"description":"if this entry is a deduction, the Metronome ID of the invoice where the credit deduction was consumed; if this entry is a grant, the Metronome ID of the invoice where the grant's paid_amount was charged"}}}},"pending_entries":{"type":"array","items":{"type":"object","required":["amount","reason","running_balance","effective_at","created_by","credit_grant_id"],"properties":{"amount":{"type":"number","description":"an amount representing the change to the customer's credit balance"},"reason":{"type":"string","example":"Automated invoice deduction"},"running_balance":{"type":"number","description":"the running balance for this credit type at the time of the ledger entry, including all preceding charges"},"effective_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"credit_grant_id":{"type":"string","format":"uuid","description":"the credit grant this entry is related to"},"invoice_id":{"type":"string","format":"uuid","nullable":true,"description":"if this entry is a deduction, the Metronome ID of the invoice where the credit deduction was consumed; if this entry is a grant, the Metronome ID of the invoice where the grant's paid_amount was charged"}}}}}},"CustomerCreditTypeLedger":{"type":"object","required":["customer_id","ledgers"],"properties":{"customer_id":{"type":"string","format":"uuid"},"ledgers":{"type":"array","items":{"type":"object","required":["credit_type","starting_balance","ending_balance","entries","pending_entries"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_balance":{"type":"object","required":["excluding_pending","including_pending","effective_at"],"properties":{"excluding_pending":{"type":"number","description":"the starting balance, including all posted grants, deductions, and expirations that happened at or before the effective_at timestamp"},"including_pending":{"type":"number","description":"the excluding_pending balance plus any pending activity that has not been posted at the time of the query"},"effective_at":{"type":"string","format":"date-time","description":"the starting_on request parameter (if supplied) or the first credit grant's effective_at date"}}},"ending_balance":{"description":"the effective balances at the end of the specified time window","type":"object","required":["excluding_pending","including_pending","effective_at"],"properties":{"excluding_pending":{"type":"number","description":"the ending balance, including the balance of all grants that have not expired before the effective_at date and deductions that happened before the effective_at date"},"including_pending":{"type":"number","description":"the excluding_pending balance plus any pending invoice deductions and expirations that will happen by the effective_at date"},"effective_at":{"type":"string","format":"date-time","description":"the ending_before request parameter (if supplied) or the current billing period's end date"}}},"entries":{"type":"array","items":{"type":"object","required":["amount","reason","running_balance","effective_at","created_by","credit_grant_id"],"properties":{"amount":{"type":"number","description":"an amount representing the change to the customer's credit balance"},"reason":{"type":"string","example":"Automated invoice deduction"},"running_balance":{"type":"number","description":"the running balance for this credit type at the time of the ledger entry, including all preceding charges"},"effective_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"credit_grant_id":{"type":"string","format":"uuid","description":"the credit grant this entry is related to"},"invoice_id":{"type":"string","format":"uuid","nullable":true,"description":"if this entry is a deduction, the Metronome ID of the invoice where the credit deduction was consumed; if this entry is a grant, the Metronome ID of the invoice where the grant's paid_amount was charged"}}}},"pending_entries":{"type":"array","items":{"type":"object","required":["amount","reason","running_balance","effective_at","created_by","credit_grant_id"],"properties":{"amount":{"type":"number","description":"an amount representing the change to the customer's credit balance"},"reason":{"type":"string","example":"Automated invoice deduction"},"running_balance":{"type":"number","description":"the running balance for this credit type at the time of the ledger entry, including all preceding charges"},"effective_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"credit_grant_id":{"type":"string","format":"uuid","description":"the credit grant this entry is related to"},"invoice_id":{"type":"string","format":"uuid","nullable":true,"description":"if this entry is a deduction, the Metronome ID of the invoice where the credit deduction was consumed; if this entry is a grant, the Metronome ID of the invoice where the grant's paid_amount was charged"}}}}}}}}},"CreditLedgerEntriesQueryPayload":{"type":"object","properties":{"customer_ids":{"type":"array","description":"A list of Metronome customer IDs to fetch ledger entries for. If absent, ledger entries for all customers will be returned.","items":{"type":"string","format":"uuid"}},"credit_type_ids":{"type":"array","description":"A list of Metronome credit type IDs to fetch ledger entries for. If absent, ledger entries for all credit types will be returned.","items":{"type":"string","format":"uuid"}},"starting_on":{"type":"string","description":"If supplied, only ledger entries effective at or after this time will be returned.","format":"date-time"},"ending_before":{"type":"string","description":"If supplied, ledger entries will only be returned with an effective_at before this time. This timestamp must not be in the future. If no timestamp is supplied, all entries up to the start of the customer's next billing period will be returned.","format":"date-time"}}},"CustomerPlan":{"required":["id","plan_id","plan_name","plan_description","starting_on","custom_fields"],"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"the ID of the customer plan"},"plan_id":{"type":"string","format":"uuid","description":"the ID of the plan"},"plan_name":{"type":"string"},"plan_description":{"type":"string"},"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"net_payment_terms_days":{"type":"number"},"trial_info":{"type":"object","required":["ending_before","spending_caps"],"properties":{"ending_before":{"type":"string","format":"date-time"},"spending_caps":{"type":"array","items":{"type":"object","required":["amount","amount_remaining","credit_type"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"amount":{"type":"number","example":123.45},"amount_remaining":{"type":"number","example":123}}}}}},"custom_fields":{"x-cf-entity":"customer_plan","type":"object","additionalProperties":{"type":"string"}}}},"PriceAdjustment":{"type":"object","required":["charge_id","charge_type","start_period","prices"],"properties":{"charge_id":{"type":"string","format":"uuid"},"charge_type":{"type":"string","enum":["usage","fixed","composite","minimum","seat"]},"start_period":{"type":"number"},"quantity":{"type":"number"},"prices":{"type":"array","items":{"required":["adjustment_type"],"type":"object","properties":{"adjustment_type":{"type":"string","enum":["fixed","quantity","percentage","override"],"description":"Determines how the value will be applied."},"value":{"type":"number"},"tier":{"type":"number","description":"Used in pricing tiers.  Indicates at what metric value the price applies."}}}}}},"Id":{"required":["id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"}}},"Plan":{"required":["id","name","description"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"description":{"type":"string"},"custom_fields":{"x-cf-entity":"plan","type":"object","additionalProperties":{"type":"string"}}}},"PlanDetail":{"required":["id","name","custom_fields"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"description":{"type":"string"},"minimums":{"type":"array","items":{"required":["name","value","start_period","credit_type"],"type":"object","properties":{"name":{"type":"string"},"value":{"type":"number"},"start_period":{"type":"number","description":"Used in price ramps.  Indicates how many billing periods pass before the charge applies."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"overage_rates":{"type":"array","items":{"required":["to_fiat_conversion_factor","start_period","fiat_credit_type","credit_type"],"type":"object","properties":{"to_fiat_conversion_factor":{"type":"number"},"start_period":{"type":"number","description":"Used in price ramps.  Indicates how many billing periods pass before the charge applies."},"fiat_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"credit_grants":{"type":"array","items":{"required":["name","amount_granted","amount_paid","priority","effective_duration","send_invoice","amount_granted_credit_type","amount_paid_credit_type"],"type":"object","properties":{"name":{"type":"string"},"amount_granted":{"type":"number"},"amount_paid":{"type":"number"},"effective_duration":{"type":"number"},"priority":{"type":"string"},"send_invoice":{"type":"boolean"},"reason":{"type":"string"},"recurrence_duration":{"type":"number"},"recurrence_interval":{"type":"number"},"amount_paid_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"amount_granted_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"custom_fields":{"x-cf-entity":"plan","type":"object","additionalProperties":{"type":"string"}}}},"PlanCharge":{"required":["id","name","product_id","product_name","prices","charge_type","credit_type","custom_fields"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"charge_type":{"type":"string","enum":["usage","fixed","composite","minimum","seat"]},"product_id":{"type":"string"},"product_name":{"type":"string"},"quantity":{"type":"number"},"start_period":{"type":"number","description":"Used in price ramps.  Indicates how many billing periods pass before the charge applies."},"tier_reset_frequency":{"type":"number","description":"Used in pricing tiers.  Indicates how often the tier resets. Default is 1 - the tier count resets every billing period."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"unit_conversion":{"required":["division_factor"],"type":"object","description":"Specifies how quantities for usage based charges will be converted.","properties":{"division_factor":{"type":"number","description":"The conversion factor"},"rounding_behavior":{"type":"string","enum":["floor","ceiling"],"description":"Whether usage should be rounded down or up to the nearest whole number. If null, quantity will be rounded to 20 decimal places."}}},"prices":{"type":"array","items":{"required":["value","tier"],"type":"object","properties":{"value":{"type":"number"},"tier":{"type":"number","description":"Used in pricing tiers.  Indicates at what metric value the price applies."},"quantity":{"type":"number"},"collection_schedule":{"type":"string"},"collection_interval":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}}}},"BillableMetricWithDeprecatedFields":{"required":["name","id"],"type":"object","properties":{"group_by":{"type":"array","description":"(DEPRECATED) use group_keys instead","items":{"type":"string","description":"A list of keys that can be used to additionally segment the values of the billable metric when making usage queries"}},"group_keys":{"type":"array","items":{"type":"array","items":{"type":"string"}},"description":"Property names that are used to group usage costs on an invoice. Each entry represents a set of properties used to slice events into distinct buckets."},"name":{"type":"string"},"id":{"type":"string","format":"uuid"},"aggregate":{"type":"string","description":"(DEPRECATED) use aggregation_type instead"},"aggregate_keys":{"type":"array","description":"(DEPRECATED) use aggregation_key instead","items":{"type":"string"}},"filter":{"type":"object","description":"(DEPRECATED) use property_filters & event_type_filter instead","additionalProperties":true},"aggregation_type":{"type":"string","enum":["count","Count","COUNT","latest","Latest","LATEST","max","Max","MAX","sum","Sum","SUM","unique","Unique","UNIQUE"],"description":"Specifies the type of aggregation performed on matching events."},"aggregation_key":{"type":"string","description":"A key that specifies which property of the event is used to aggregate data. This key must be one of the property filter names and is not applicable when the aggregation type is 'count'."},"event_type_filter":{"type":"object","properties":{"in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly included in the billable metric. If specified, only events of these types will match the billable metric. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly excluded from the billable metric. If specified, events of these types will not match the billable metric. Must be non-empty if present."}},"description":"An optional filtering rule to match the 'event_type' property of an event."},"property_filters":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"The name of the event property."},"exists":{"type":"boolean","description":"Determines whether the property must exist in the event. If true, only events with this property will pass the filter. If false, only events without this property will pass the filter. If null or omitted, the existence of the property is optional."},"in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the allowed values for the property to match an event. An event will pass the filter only if its property value is included in this list. If undefined, all property values will pass the filter. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the values that prevent an event from matching the filter. An event will not pass the filter if its property value is included in this list. If null or empty, all property values will pass the filter. Must be non-empty if present."}}},"description":"A list of filters to match events to this billable metric. Each filter defines a rule on an event property. All rules must pass for the event to match the billable metric."},"custom_fields":{"x-cf-entity":"billable_metric","type":"object","additionalProperties":{"type":"string"}},"sql":{"type":"string","description":"The SQL query associated with the billable metric"}}},"UsageQueryPayload":{"required":["window_size"],"type":"object","properties":{"window_size":{"type":"string","description":"A window_size of \"day\" or \"hour\" will return the usage for the specified period segmented into daily or hourly aggregates. A window_size of \"none\" will return a single usage aggregate for the entirety of the specified period.","enum":["hour","day","none","HOUR","DAY","NONE","Hour","Day","None"]},"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"group_by":{"type":"object","required":["key","values"],"properties":{"key":{"type":"string","description":"The name of the group_by key to use"},"values":{"type":"array","description":"Values of the group_by key to return in the query","minItems":1,"maxItems":200,"items":{"type":"string","minLength":1}}}},"current_period":{"type":"boolean","description":"If true, will return the usage for the current billing period. Will return an error if the customer is currently uncontracted or starting_on and ending_before are specified when this is true."}}},"SeatsUsageQueryPayload":{"required":["seat_metric_id","customer_id","window_size","usage_type"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid"},"seat_metric_id":{"type":"string","format":"uuid"},"usage_type":{"type":"string","description":"The type of usage to return, max or latest value.","enum":["max","latest","MAX","LATEST","Max","Latest"]},"window_size":{"type":"string","description":"A window_size of \"day\" or \"hour\" will return the usage for the specified period segmented into daily or hourly aggregates. A window_size of \"none\" will return a single usage aggregate for the entirety of the specified period.","enum":["hour","day","none","HOUR","DAY","NONE","Hour","Day","None"]},"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"current_period":{"type":"boolean","description":"If true, will return the usage for the current billing period. Will return an error if the customer is currently uncontracted or starting_on and ending_before are specified when this is true."}}},"PagedUsageQueryPayload":{"required":["billable_metric_id","customer_id","window_size"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid"},"billable_metric_id":{"type":"string","format":"uuid"},"window_size":{"type":"string","description":"A window_size of \"day\" or \"hour\" will return the usage for the specified period segmented into daily or hourly aggregates. A window_size of \"none\" will return a single usage aggregate for the entirety of the specified period.","enum":["hour","day","none","HOUR","DAY","NONE","Hour","Day","None"]},"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"group_by":{"type":"object","required":["key"],"properties":{"key":{"type":"string","description":"The name of the group_by key to use"},"values":{"type":"array","description":"Values of the group_by key to return in the query. Omit this if you'd like all values for the key returned.","minItems":1,"items":{"type":"string","minLength":1}}}},"current_period":{"type":"boolean","description":"If true, will return the usage for the current billing period. Will return an error if the customer is currently uncontracted or starting_on and ending_before are specified when this is true."}}},"GroupedUsageQueryPayload":{"required":["billable_metric_id","customer_id","window_size"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid"},"billable_metric_id":{"type":"string","format":"uuid"},"window_size":{"type":"string","description":"A window_size of \"day\" or \"hour\" will return the usage for the specified period segmented into daily or hourly aggregates. A window_size of \"none\" will return a single usage aggregate for the entirety of the specified period.","enum":["day","none"]},"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"groupings":{"type":"array","items":{"type":"object","required":["key"],"properties":{"key":{"type":"string","description":"The name of the group_by key to use"},"values":{"type":"array","description":"Values of the group_by key to return in the query. Omit this if you'd like all values for the key returned.","minItems":1,"items":{"type":"string","minLength":1}}}}},"current_period":{"type":"boolean","description":"If true, will return the usage for the current billing period. Will return an error if the customer is currently uncontracted or starting_on and ending_before are specified when this is true."}}},"UsageBatchQueryPayload":{"required":["window_size","starting_on","ending_before"],"type":"object","properties":{"customer_ids":{"type":"array","description":"A list of Metronome customer IDs to fetch usage for. If absent, usage for all customers will be returned.","items":{"type":"string","format":"uuid"}},"billable_metrics":{"type":"array","description":"A list of billable metrics to fetch usage for. If absent, all billable metrics will be returned.","items":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"},"group_by":{"type":"object","required":["key"],"properties":{"key":{"type":"string","description":"The name of the group_by key to use"},"values":{"type":"array","description":"Values of the group_by key to return in the query. If this field is omitted, all available values will be returned, up to a maximum of 200.","minItems":1,"maxItems":200,"items":{"type":"string","minLength":1}}}}}}},"window_size":{"type":"string","description":"A window_size of \"day\" or \"hour\" will return the usage for the specified period segmented into daily or hourly aggregates. A window_size of \"none\" will return a single usage aggregate for the entirety of the specified period.","enum":["hour","day","none","HOUR","DAY","NONE","Hour","Day","None"]},"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"UsageAggregate":{"required":["start_timestamp","end_timestamp","value"],"type":"object","properties":{"start_timestamp":{"type":"string","format":"date-time"},"end_timestamp":{"type":"string","format":"date-time"},"value":{"type":"number","nullable":true},"groups":{"type":"object","additionalProperties":{"type":"number","nullable":true},"description":"Values will be either a number or null. Null indicates that there were no matches for the group_by value."}}},"SeatsUsageAggregate":{"required":["starting_on","ending_before","value"],"type":"object","properties":{"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"value":{"type":"number","nullable":true}}},"PagedUsageAggregate":{"required":["starting_on","ending_before","group_key","group_value","value"],"type":"object","properties":{"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"group_key":{"type":"string","nullable":true},"group_value":{"type":"string","nullable":true},"value":{"type":"number","nullable":true}}},"GroupedUsageAggregate":{"required":["starting_on","ending_before","value"],"type":"object","properties":{"starting_on":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"groupings":{"type":"array","items":{"type":"object","required":["group_key","group_value"],"properties":{"group_key":{"type":"string"},"group_value":{"type":"string"}}}},"value":{"type":"number","nullable":true}}},"UsageBatchAggregate":{"required":["customer_id","billable_metric_id","billable_metric_name","start_timestamp","end_timestamp","value"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid"},"billable_metric_id":{"type":"string","format":"uuid"},"billable_metric_name":{"type":"string"},"start_timestamp":{"type":"string","format":"date-time"},"end_timestamp":{"type":"string","format":"date-time"},"value":{"type":"number","nullable":true},"groups":{"type":"object","additionalProperties":{"type":"number","nullable":true},"description":"Values will be either a number or null. Null indicates that there were no matches for the group_by value."}}},"LineItemBreakdown":{"type":"object","required":["name","cost"],"properties":{"name":{"type":"string"},"cost":{"type":"number"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true}}},"CostsPerCreditType":{"type":"object","additionalProperties":{"type":"object","properties":{"name":{"type":"string"},"cost":{"type":"number"},"line_item_breakdown":{"type":"array","items":{"type":"object","required":["name","cost"],"properties":{"name":{"type":"string"},"cost":{"type":"number"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true}}}}}}},"Costs":{"required":["start_timestamp","end_timestamp","credit_types"],"type":"object","properties":{"start_timestamp":{"type":"string","format":"date-time"},"end_timestamp":{"type":"string","format":"date-time"},"credit_types":{"type":"object","additionalProperties":{"type":"object","properties":{"name":{"type":"string"},"cost":{"type":"number"},"line_item_breakdown":{"type":"array","items":{"type":"object","required":["name","cost"],"properties":{"name":{"type":"string"},"cost":{"type":"number"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true}}}}}}}}},"InvoiceStatus":{"type":"string","example":"DRAFT, VOID, or FINALIZED"},"InvoiceType":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"},"Invoice":{"required":["id","customer_id","credit_type","line_items","status","total","type"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"customer_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"invoice_adjustments":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string","example":"Monthly minimum ($1,000)"},"total":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_grant_id":{"type":"string"},"credit_grant_custom_fields":{"x-cf-entity":"credit_grant","type":"object","additionalProperties":{"type":"string"}}}}},"line_items":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true},"quantity":{"type":"number"},"total":{"type":"number"},"unit_price":{"type":"number","description":"only present for beta contract invoices"},"product_id":{"type":"string","format":"uuid"},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"product_type":{"type":"string"},"netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"is_prorated":{"type":"boolean","description":"only present for beta contract invoices"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_at":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"ending_before":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"commit_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"commit_segment_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_type":{"type":"string","description":"only present for beta contract invoices"},"commit_netsuite_sales_order_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"commit_netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"postpaid_commit":{"type":"object","required":["id"],"description":"only present for beta contract invoices","properties":{"id":{"type":"string","format":"uuid"}}},"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"sub_line_items":{"type":"array","items":{"required":["name","quantity","subtotal","custom_fields"],"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","description":"the unit price for this charge, present only if the charge is not tiered and the quantity is nonzero"},"quantity":{"type":"number"},"subtotal":{"type":"number"},"charge_id":{"type":"string","format":"uuid"},"credit_grant_id":{"type":"string","format":"uuid"},"tier_period":{"type":"object","required":["starting_at"],"description":"when the current tier started and ends (for tiered charges only)","properties":{"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"tiers":{"type":"array","items":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}},"start_date":{"type":"string","format":"date-time","description":"The start date for the charge (for seats charges only)."},"end_date":{"type":"string","format":"date-time","description":"The end date for the charge (for seats charges only)."}}}},"custom_fields":{"x-cf-entity":"product","type":"object","additionalProperties":{"type":"string"}},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"if presentation groups are used, this will contain the values used to break down the line item","additionalProperties":{"type":"string","nullable":true}},"metadata":{"type":"string"},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"professional_service_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"professional_service_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"scheduled_charge_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"scheduled_charge_custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}}},"start_timestamp":{"description":"Beginning of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"end_timestamp":{"description":"End of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"issued_at":{"description":"When the invoice was issued (UTC)","type":"string","format":"date-time"},"created_at":{"description":"When the invoice was created (UTC). This field is present for correction invoices only.","type":"string","format":"date-time"},"status":{"type":"string","example":"DRAFT, VOID, or FINALIZED"},"subtotal":{"type":"number"},"total":{"type":"number"},"type":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"},"external_invoice":{"nullable":true,"required":["billing_provider_type"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"invoice_id":{"type":"string"},"issued_at_timestamp":{"type":"string","format":"date-time"},"external_status":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]}}},"plan_id":{"type":"string","format":"uuid"},"plan_name":{"type":"string"},"plan_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"contract_id":{"type":"string","format":"uuid"},"contract_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"amendment_id":{"type":"string","format":"uuid"},"correction_record":{"required":["reason","memo","corrected_invoice_id"],"type":"object","properties":{"reason":{"type":"string"},"memo":{"type":"string"},"corrected_invoice_id":{"type":"string","format":"uuid"},"corrected_external_invoice":{"required":["billing_provider_type"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"invoice_id":{"type":"string"},"issued_at_timestamp":{"type":"string","format":"date-time"},"external_status":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]}}}}},"reseller_royalty":{"type":"object","description":"only present for beta contract invoices with reseller royalties","required":["reseller_type","netsuite_reseller_id","fraction"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"netsuite_reseller_id":{"type":"string"},"fraction":{"type":"string"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}},"custom_fields":{"x-cf-entity":"invoice","type":"object","additionalProperties":true},"billable_status":{"description":"This field's availability is dependent on your client's configuration.","type":"string","enum":["billable","unbillable"]}}},"BreakdownInvoice":{"allOf":[{"required":["id","customer_id","credit_type","line_items","status","total","type"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"customer_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"invoice_adjustments":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string","example":"Monthly minimum ($1,000)"},"total":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_grant_id":{"type":"string"},"credit_grant_custom_fields":{"x-cf-entity":"credit_grant","type":"object","additionalProperties":{"type":"string"}}}}},"line_items":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true},"quantity":{"type":"number"},"total":{"type":"number"},"unit_price":{"type":"number","description":"only present for beta contract invoices"},"product_id":{"type":"string","format":"uuid"},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"product_type":{"type":"string"},"netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"is_prorated":{"type":"boolean","description":"only present for beta contract invoices"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_at":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"ending_before":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"commit_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"commit_segment_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_type":{"type":"string","description":"only present for beta contract invoices"},"commit_netsuite_sales_order_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"commit_netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"postpaid_commit":{"type":"object","required":["id"],"description":"only present for beta contract invoices","properties":{"id":{"type":"string","format":"uuid"}}},"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"sub_line_items":{"type":"array","items":{"required":["name","quantity","subtotal","custom_fields"],"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","description":"the unit price for this charge, present only if the charge is not tiered and the quantity is nonzero"},"quantity":{"type":"number"},"subtotal":{"type":"number"},"charge_id":{"type":"string","format":"uuid"},"credit_grant_id":{"type":"string","format":"uuid"},"tier_period":{"type":"object","required":["starting_at"],"description":"when the current tier started and ends (for tiered charges only)","properties":{"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"tiers":{"type":"array","items":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}},"start_date":{"type":"string","format":"date-time","description":"The start date for the charge (for seats charges only)."},"end_date":{"type":"string","format":"date-time","description":"The end date for the charge (for seats charges only)."}}}},"custom_fields":{"x-cf-entity":"product","type":"object","additionalProperties":{"type":"string"}},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"if presentation groups are used, this will contain the values used to break down the line item","additionalProperties":{"type":"string","nullable":true}},"metadata":{"type":"string"},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"professional_service_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"professional_service_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"scheduled_charge_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"scheduled_charge_custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}}},"start_timestamp":{"description":"Beginning of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"end_timestamp":{"description":"End of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"issued_at":{"description":"When the invoice was issued (UTC)","type":"string","format":"date-time"},"created_at":{"description":"When the invoice was created (UTC). This field is present for correction invoices only.","type":"string","format":"date-time"},"status":{"type":"string","example":"DRAFT, VOID, or FINALIZED"},"subtotal":{"type":"number"},"total":{"type":"number"},"type":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"},"external_invoice":{"nullable":true,"required":["billing_provider_type"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"invoice_id":{"type":"string"},"issued_at_timestamp":{"type":"string","format":"date-time"},"external_status":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]}}},"plan_id":{"type":"string","format":"uuid"},"plan_name":{"type":"string"},"plan_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"contract_id":{"type":"string","format":"uuid"},"contract_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"amendment_id":{"type":"string","format":"uuid"},"correction_record":{"required":["reason","memo","corrected_invoice_id"],"type":"object","properties":{"reason":{"type":"string"},"memo":{"type":"string"},"corrected_invoice_id":{"type":"string","format":"uuid"},"corrected_external_invoice":{"required":["billing_provider_type"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"invoice_id":{"type":"string"},"issued_at_timestamp":{"type":"string","format":"date-time"},"external_status":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]}}}}},"reseller_royalty":{"type":"object","description":"only present for beta contract invoices with reseller royalties","required":["reseller_type","netsuite_reseller_id","fraction"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"netsuite_reseller_id":{"type":"string"},"fraction":{"type":"string"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}},"custom_fields":{"x-cf-entity":"invoice","type":"object","additionalProperties":true},"billable_status":{"description":"This field's availability is dependent on your client's configuration.","type":"string","enum":["billable","unbillable"]}}},{"type":"object","required":["breakdown_start_timestamp","breakdown_end_timestamp"],"properties":{"breakdown_start_timestamp":{"type":"string","format":"date-time"},"breakdown_end_timestamp":{"type":"string","format":"date-time"}}}]},"UsageInvoice":{"required":["id","customer_id","credit_type","line_items","status","total","type"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"line_items":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true},"quantity":{"type":"number"},"total":{"type":"number"},"unit_price":{"type":"number","description":"only present for beta contract invoices"},"product_id":{"type":"string","format":"uuid"},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"product_type":{"type":"string"},"netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"is_prorated":{"type":"boolean","description":"only present for beta contract invoices"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_at":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"ending_before":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"commit_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"commit_segment_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_type":{"type":"string","description":"only present for beta contract invoices"},"commit_netsuite_sales_order_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"commit_netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"postpaid_commit":{"type":"object","required":["id"],"description":"only present for beta contract invoices","properties":{"id":{"type":"string","format":"uuid"}}},"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"sub_line_items":{"type":"array","items":{"required":["name","quantity","subtotal","custom_fields"],"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","description":"the unit price for this charge, present only if the charge is not tiered and the quantity is nonzero"},"quantity":{"type":"number"},"subtotal":{"type":"number"},"charge_id":{"type":"string","format":"uuid"},"credit_grant_id":{"type":"string","format":"uuid"},"tier_period":{"type":"object","required":["starting_at"],"description":"when the current tier started and ends (for tiered charges only)","properties":{"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"tiers":{"type":"array","items":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}},"start_date":{"type":"string","format":"date-time","description":"The start date for the charge (for seats charges only)."},"end_date":{"type":"string","format":"date-time","description":"The end date for the charge (for seats charges only)."}}}},"custom_fields":{"x-cf-entity":"product","type":"object","additionalProperties":{"type":"string"}},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"if presentation groups are used, this will contain the values used to break down the line item","additionalProperties":{"type":"string","nullable":true}},"metadata":{"type":"string"},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"professional_service_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"professional_service_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"scheduled_charge_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"scheduled_charge_custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}}},"start_timestamp":{"description":"Beginning of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"end_timestamp":{"description":"End of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"issued_at":{"description":"When the invoice was issued (UTC)","type":"string","format":"date-time"},"created_at":{"description":"When the invoice was created (UTC). This field is present for correction invoices only.","type":"string","format":"date-time"},"status":{"type":"string","example":"DRAFT, VOID, or FINALIZED"},"subtotal":{"type":"number"},"type":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"},"plan_id":{"type":"string","format":"uuid"},"plan_name":{"type":"string"},"contract_id":{"type":"string","format":"uuid"},"amendment_id":{"type":"string","format":"uuid"}}},"UsageBreakdownInvoice":{"allOf":[{"required":["id","customer_id","credit_type","line_items","status","total","type"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"line_items":{"type":"array","items":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true},"quantity":{"type":"number"},"total":{"type":"number"},"unit_price":{"type":"number","description":"only present for beta contract invoices"},"product_id":{"type":"string","format":"uuid"},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"product_type":{"type":"string"},"netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"is_prorated":{"type":"boolean","description":"only present for beta contract invoices"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_at":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"ending_before":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"commit_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"commit_segment_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_type":{"type":"string","description":"only present for beta contract invoices"},"commit_netsuite_sales_order_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"commit_netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"postpaid_commit":{"type":"object","required":["id"],"description":"only present for beta contract invoices","properties":{"id":{"type":"string","format":"uuid"}}},"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"sub_line_items":{"type":"array","items":{"required":["name","quantity","subtotal","custom_fields"],"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","description":"the unit price for this charge, present only if the charge is not tiered and the quantity is nonzero"},"quantity":{"type":"number"},"subtotal":{"type":"number"},"charge_id":{"type":"string","format":"uuid"},"credit_grant_id":{"type":"string","format":"uuid"},"tier_period":{"type":"object","required":["starting_at"],"description":"when the current tier started and ends (for tiered charges only)","properties":{"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"tiers":{"type":"array","items":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}},"start_date":{"type":"string","format":"date-time","description":"The start date for the charge (for seats charges only)."},"end_date":{"type":"string","format":"date-time","description":"The end date for the charge (for seats charges only)."}}}},"custom_fields":{"x-cf-entity":"product","type":"object","additionalProperties":{"type":"string"}},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"if presentation groups are used, this will contain the values used to break down the line item","additionalProperties":{"type":"string","nullable":true}},"metadata":{"type":"string"},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"professional_service_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"professional_service_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"scheduled_charge_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"scheduled_charge_custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}}},"start_timestamp":{"description":"Beginning of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"end_timestamp":{"description":"End of the usage period this invoice covers (UTC)","type":"string","format":"date-time"},"issued_at":{"description":"When the invoice was issued (UTC)","type":"string","format":"date-time"},"created_at":{"description":"When the invoice was created (UTC). This field is present for correction invoices only.","type":"string","format":"date-time"},"status":{"type":"string","example":"DRAFT, VOID, or FINALIZED"},"subtotal":{"type":"number"},"type":{"type":"string","example":"PLAN_ARREARS, SCHEDULED, USAGE, CORRECTION, CREDIT_PURCHASE, or SEAT_PURCHASE"},"plan_id":{"type":"string","format":"uuid"},"plan_name":{"type":"string"},"contract_id":{"type":"string","format":"uuid"},"amendment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["breakdown_start_timestamp","breakdown_end_timestamp"],"properties":{"breakdown_start_timestamp":{"type":"string","format":"date-time"},"breakdown_end_timestamp":{"type":"string","format":"date-time"}}}]},"ExternalInvoiceStatus":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]},"ExternalInvoice":{"required":["billing_provider_type"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"invoice_id":{"type":"string"},"issued_at_timestamp":{"type":"string","format":"date-time"},"external_status":{"type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]}}},"InvoiceLineItem":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string"},"group_key":{"type":"string"},"group_value":{"type":"string","nullable":true},"quantity":{"type":"number"},"total":{"type":"number"},"unit_price":{"type":"number","description":"only present for beta contract invoices"},"product_id":{"type":"string","format":"uuid"},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"product_type":{"type":"string"},"netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"is_prorated":{"type":"boolean","description":"only present for beta contract invoices"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"starting_at":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"ending_before":{"type":"string","format":"date-time","description":"only present for beta contract invoices"},"commit_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"commit_segment_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"commit_type":{"type":"string","description":"only present for beta contract invoices"},"commit_netsuite_sales_order_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"commit_netsuite_item_id":{"type":"string","description":"only present for beta contract invoices. This field's availability is dependent on your client's configuration."},"postpaid_commit":{"type":"object","required":["id"],"description":"only present for beta contract invoices","properties":{"id":{"type":"string","format":"uuid"}}},"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"sub_line_items":{"type":"array","items":{"required":["name","quantity","subtotal","custom_fields"],"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","description":"the unit price for this charge, present only if the charge is not tiered and the quantity is nonzero"},"quantity":{"type":"number"},"subtotal":{"type":"number"},"charge_id":{"type":"string","format":"uuid"},"credit_grant_id":{"type":"string","format":"uuid"},"tier_period":{"type":"object","required":["starting_at"],"description":"when the current tier started and ends (for tiered charges only)","properties":{"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"tiers":{"type":"array","items":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}},"start_date":{"type":"string","format":"date-time","description":"The start date for the charge (for seats charges only)."},"end_date":{"type":"string","format":"date-time","description":"The end date for the charge (for seats charges only)."}}}},"custom_fields":{"x-cf-entity":"product","type":"object","additionalProperties":{"type":"string"}},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"if presentation groups are used, this will contain the values used to break down the line item","additionalProperties":{"type":"string","nullable":true}},"metadata":{"type":"string"},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"professional_service_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"professional_service_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"scheduled_charge_id":{"type":"string","format":"uuid","description":"only present for beta contract invoices"},"scheduled_charge_custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}},"InvoiceSubLineItem":{"required":["name","quantity","subtotal","custom_fields"],"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","description":"the unit price for this charge, present only if the charge is not tiered and the quantity is nonzero"},"quantity":{"type":"number"},"subtotal":{"type":"number"},"charge_id":{"type":"string","format":"uuid"},"credit_grant_id":{"type":"string","format":"uuid"},"tier_period":{"type":"object","required":["starting_at"],"description":"when the current tier started and ends (for tiered charges only)","properties":{"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"tiers":{"type":"array","items":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}}},"custom_fields":{"x-cf-entity":"charge","type":"object","additionalProperties":{"type":"string"}},"start_date":{"type":"string","format":"date-time","description":"The start date for the charge (for seats charges only)."},"end_date":{"type":"string","format":"date-time","description":"The end date for the charge (for seats charges only)."}}},"InvoiceTier":{"required":["starting_at","quantity","price","subtotal"],"type":"object","properties":{"starting_at":{"type":"number","description":"at what metric amount this tier begins"},"quantity":{"type":"number"},"price":{"type":"number"},"subtotal":{"type":"number"}}},"InvoiceAdjustment":{"required":["name","total","credit_type"],"type":"object","properties":{"name":{"type":"string","example":"Monthly minimum ($1,000)"},"total":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_grant_id":{"type":"string"},"credit_grant_custom_fields":{"x-cf-entity":"credit_grant","type":"object","additionalProperties":{"type":"string"}}}},"ProServiceInvoiceLineItem":{"description":"Describes the line item for a professional service charge on an invoice.","type":"object","required":["professional_service_id"],"properties":{"professional_service_id":{"type":"string","format":"uuid"},"amendment_id":{"type":"string","format":"uuid","description":"If the professional_service_id was added on an amendment, this is required."},"unit_price":{"type":"number","description":"If specified, this overrides the unit price on the pro service term. Must also provide quantity (but not amount) if providing unit_price."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"amount":{"type":"number","description":"Amount for the term on the new invoice."},"netsuite_invoice_billing_start":{"type":"string","format":"date-time","description":"The start date for the billing period on the invoice."},"netsuite_invoice_billing_end":{"type":"string","format":"date-time","description":"The end date for the billing period on the invoice."},"metadata":{"type":"string","description":"For client use."}}},"BillingProviderInvoice":{"required":["invoice_id","billing_provider"],"type":"object","properties":{"invoice_id":{"type":"string","format":"uuid","description":"The invoice id in Metronome"},"billing_provider":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"billing_provider_invoice_id":{"type":"string","description":"The invoice id in the billing provider's system.  Optional if status is INVALID_REQUEST_ERROR or SKIPPED and billing_provider_error is present."},"billing_provider_sales_order_id":{"type":"string","description":"The sales order id in the billing provider's system.  Optional if status is INVALID_REQUEST_ERROR or SKIPPED and billing_provider_error is present."},"external_status":{"description":"The status of the billing provider invoice.  Defaults to SENT if not provided.","type":"string","enum":["DRAFT","FINALIZED","PAID","UNCOLLECTIBLE","VOID","DELETED","PAYMENT_FAILED","INVALID_REQUEST_ERROR","SKIPPED","SENT","QUEUED"]},"issued_at":{"type":"string","format":"date-time"},"billing_provider_error":{"type":"string","description":"Optional message describing the status of the invoice. Cannot be passed with a billing_provider_invoice_id or billing_provider_sales_order_id."},"workato_job_id":{"type":"string","description":"Optional workato job id responsible for creating this billing provider invoice"}}},"StripeCollectionMethod":{"type":"string","enum":["charge_automatically","send_invoice"]},"AwsExpirationDate":{"type":"string","format":"date-time","description":"Contract expiration date for the customer. The expected format is RFC 3339 and can be retrieved from AWS's GetEntitlements API. (See https://docs.aws.amazon.com/marketplaceentitlement/latest/APIReference/API_GetEntitlements.html.)"},"AzureSubscriptionStatus":{"type":"string","enum":["Subscribed","Unsubscribed","Suspended","PendingFulfillmentStart"]},"AzureTermDate":{"type":"string","format":"date-time","description":"Subscription term start/end date for the customer. The expected format is RFC 3339 and can be retrieved from Azure's Get Subscription API. (See https://learn.microsoft.com/en-us/partner-center/marketplace/partner-center-portal/pc-saas-fulfillment-subscription-api#get-subscription.)"},"AwsRegion":{"type":"string","enum":["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-west-1","us-west-2"]},"ChargeType":{"type":"string","enum":["usage","fixed","composite","minimum","seat"]},"UsageBreakdownInvoicesQueryPayload":{"required":["starting_on","ending_before"],"type":"object","properties":{"starting_on":{"type":"string","format":"date-time","description":"RFC 3339 timestamp. Breakdowns will only be returned for time windows that start on or after this time."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp. Breakdowns will only be returned for time windows that end on or before this time."},"skip_zero_qty_line_items":{"type":"boolean","description":"If set, all zero quantity line items will be filtered out of the response."},"credit_type_id":{"type":"string","format":"uuid","description":"If provided, only line items with the specified credit type id will be included in the response."},"sort":{"type":"string","description":"Invoice sort order by issued_at, e.g. date_asc or date_desc.  Defaults to date_asc.","enum":["date_asc","date_desc"],"default":"date_asc"},"window_size":{"type":"string","description":"The granularity of the breakdowns to return. Defaults to \"day\".","enum":["hour","day","none","HOUR","DAY","NONE","Hour","Day","None"]},"group_keys":{"type":"array","description":"A list of keys that can be used to additionally segment the values of the billable metric when making usage queries. Must be valid keys that are present in the billable metrics or an empty list. The value will be ignored and the default keys will be used if: billable metric is MAX type; product uses tiered pricing model; product has quantity rounding enabled\n","items":{"type":"string"}},"limit":{"type":"integer","description":"Max number of results that should be returned. For daily and \"none\" breakdowns, the response can return up to 35 days worth of breakdowns. For hourly breakdowns, the response can return up to 24 hours. If there are more results, a cursor to the next page is returned.","minimum":1,"maximum":100,"default":100},"next_page":{"type":"string","description":"Cursor that indicates where the next page of results should start."}}},"IntegrationCloudwatchLogPayload":{"required":["service_name","metric_name","dimensions"],"type":"object","properties":{"service_name":{"type":"string"},"metric_name":{"type":"string"},"dimensions":{"type":"array","items":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"}}}}}},"ManagedEntity":{"type":"string","enum":["alert","billable_metric","charge","commit","contract_credit","contract_product","contract","credit_grant","customer_plan","customer","invoice","plan","professional_service","product","rate_card","scheduled_charge"]},"ManagedVendor":{"type":"string","enum":["chargebee","netsuite","stripe"]},"CustomField":{"type":"object","additionalProperties":{"type":"string"}},"CustomFieldMapping":{"type":"object","required":["entity","key","vendor","vendor_entity","vendor_field"],"properties":{"entity":{"type":"string","enum":["alert","billable_metric","charge","commit","contract_credit","contract_product","contract","credit_grant","customer_plan","customer","invoice","plan","professional_service","product","rate_card","scheduled_charge"]},"key":{"type":"string"},"vendor":{"type":"string","enum":["chargebee","netsuite","stripe"]},"vendor_entity":{"type":"string"},"vendor_field":{"type":"string"}}},"AuditLog":{"type":"object","required":["id","timestamp"],"properties":{"id":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"actor":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"}}},"resource_type":{"type":"string"},"resource_id":{"type":"string"},"action":{"type":"string"},"status":{"type":"string","enum":["success","failure","pending"]},"description":{"type":"string"}}},"Actor":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"}}},"Service":{"type":"object","required":["name","usage","ips"],"properties":{"name":{"type":"string"},"usage":{"type":"string","enum":["makes_connections_from","accepts_connections_at"]},"ips":{"type":"array","items":{"type":"string"}}}},"ProductListItemState":{"type":"object","required":["name","created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"composite_tags":{"type":"array","items":{"type":"string"}},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration."},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"ListProductsPayload":{"type":"object","properties":{"archive_filter":{"type":"string","enum":["ARCHIVED","NOT_ARCHIVED","ALL"],"description":"Filter options for the product list"}}},"ProductListItem":{"type":"object","required":["id","type","initial","current","updates"],"properties":{"id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["USAGE","SUBSCRIPTION","COMPOSITE","FIXED","PRO_SERVICE"]},"archived_at":{"type":"string","format":"date-time","nullable":true},"initial":{"type":"object","required":["name","created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"composite_tags":{"type":"array","items":{"type":"string"}},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration."},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"current":{"type":"object","required":["name","created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"composite_tags":{"type":"array","items":{"type":"string"}},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration."},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"updates":{"type":"array","items":{"type":"object","required":["created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"is_refundable":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"billable_metric_id":{"type":"string","format":"uuid"},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"composite_tags":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}}},"custom_fields":{"x-cf-entity":"contract_product","type":"object","additionalProperties":{"type":"string"}}}},"CreateProductListItemPayload":{"type":"object","required":["name","type"],"properties":{"name":{"type":"string","description":"displayed on invoices"},"type":{"type":"string","enum":["FIXED","fixed","USAGE","usage","COMPOSITE","composite","SUBSCRIPTION","subscription","PROFESSIONAL_SERVICE","professional_service","PRO_SERVICE","pro_service"]},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"billable_metric_id":{"type":"string","format":"uuid","description":"Required for USAGE products"},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Required for COMPOSITE products"},"composite_tags":{"type":"array","items":{"type":"string"},"description":"Required for COMPOSITE products"},"is_refundable":{"type":"boolean","description":"This field's availability is dependent on your client's configuration. Defaults to true"},"exclude_free_usage":{"type":"boolean","description":"Beta feature only available for composite products. If true, products with $0 will not be included when computing composite usage. Defaults to false"},"tags":{"type":"array","items":{"type":"string"}},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}}}},"ProductListItemUpdate":{"type":"object","required":["created_at","created_by"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"is_refundable":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"billable_metric_id":{"type":"string","format":"uuid"},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"netsuite_internal_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"composite_tags":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"exclude_free_usage":{"type":"boolean"},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"UpdateProductListItemPayload":{"type":"object","required":["product_id","starting_at"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to update"},"name":{"type":"string","description":"displayed on invoices. If not provided, defaults to product's current name."},"starting_at":{"type":"string","format":"date-time","description":"Timestamp representing when the update should go into effect. It must be on an hour boundary (e.g. 1:00, not 1:30)."},"is_refundable":{"type":"boolean","description":"Defaults to product's current refundability status. This field's availability is dependent on your client's configuration."},"exclude_free_usage":{"type":"boolean","description":"Beta feature only available for composite products. If true, products with $0 will not be included when computing composite usage. Defaults to false"},"billable_metric_id":{"type":"string","format":"uuid","description":"Available for USAGE products only. If not provided, defaults to product's current billable metric."},"netsuite_internal_item_id":{"type":"string","description":"If not provided, defaults to product's current netsuite_internal_item_id. This field's availability is dependent on your client's configuration."},"netsuite_overage_item_id":{"type":"string","description":"Available for USAGE and COMPOSITE products only. If not provided, defaults to product's current netsuite_overage_item_id. This field's availability is dependent on your client's configuration."},"composite_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Available for COMPOSITE products only. If not provided, defaults to product's current composite_product_ids."},"quantity_conversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"quantity_rounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"tags":{"type":"array","items":{"type":"string"},"description":"If not provided, defaults to product's current tags"},"composite_tags":{"type":"array","items":{"type":"string"},"description":"Available for COMPOSITE products only. If not provided, defaults to product's current composite_tags."},"pricing_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"presentation_group_key":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}}},"ArchiveProductListItemPayload":{"type":"object","required":["product_id"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to be archived"}}},"RateCard":{"type":"object","required":["id","name","rate_card_entries","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"rate_card_entries":{"type":"object","additionalProperties":{"type":"object","properties":{"current":{"type":"object","nullable":true,"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}},"updates":{"type":"array","items":{"type":"object","required":["id","product_id","rate_type","starting_at","entitled","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"quantity":{"type":"number"},"is_prorated":{"type":"boolean"},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}}}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"description":{"type":"string"},"fiat_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"credit_type_conversions":{"type":"array","items":{"required":["fiat_per_custom_credit","custom_credit_type"],"type":"object","properties":{"fiat_per_custom_credit":{"type":"string"},"custom_credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"aliases":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}},"custom_fields":{"x-cf-entity":"rate_card","type":"object","additionalProperties":{"type":"string"}}}},"RateCardAlias":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"QuantityConversion":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be converted using the provided conversion factor and operation. For example, if the operation is \"multiply\" and the conversion factor is 100, then the quantity will be multiplied by 100. This can be used in cases where data is sent in one unit and priced in another.  For example, data could be sent in MB and priced in GB. In this case, the conversion factor would be 1024 and the operation would be \"divide\".","required":["conversion_factor","operation"],"properties":{"name":{"type":"string","description":"Optional name for this conversion."},"conversion_factor":{"type":"number","description":"The factor to multiply or divide the quantity by."},"operation":{"type":"string","enum":["multiply","divide","MULTIPLY","DIVIDE"],"description":"The operation to perform on the quantity"}}},"QuantityRounding":{"type":"object","nullable":true,"description":"Optional. Only valid for USAGE products. If provided, the quantity will be rounded using the provided rounding method and decimal places. For example, if the method is \"round up\" and the decimal places is 0, then the quantity will be rounded up to the nearest integer.","required":["rounding_method","decimal_places"],"properties":{"rounding_method":{"type":"string","enum":["round_up","round_down","round_half_up","ROUND_UP","ROUND_DOWN","ROUND_HALF_UP"]},"decimal_places":{"type":"number","minimum":0}}},"NullableRateCardEntry":{"type":"object","nullable":true,"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}},"Tier":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"RateCardEntry":{"type":"object","required":["id","product_id","rate_type","starting_at","entitled","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"rate_type":{"type":"string","enum":["FLAT","PERCENTAGE","SUBSCRIPTION","CUSTOM","TIERED"]},"price":{"type":"number"},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"custom_rate":{"type":"object","additionalProperties":true},"quantity":{"type":"number"},"is_prorated":{"type":"boolean"},"starting_at":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"ending_before":{"type":"string","format":"date-time"},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}}}}},"CreateRateCardPayload":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"description":{"type":"string"},"fiat_credit_type_id":{"type":"string","format":"uuid","example":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","description":"\"The Metronome ID of the credit type to associate with the rate card, defaults to USD (cents) if not passed.\""},"credit_type_conversions":{"type":"array","items":{"type":"object","required":["custom_credit_type_id","fiat_per_custom_credit"],"properties":{"custom_credit_type_id":{"type":"string","format":"uuid"},"fiat_per_custom_credit":{"type":"number"}}},"description":"Required when using custom pricing units in rates."},"aliases":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"description":"Reference this alias when creating a contract. If the same alias is assigned to multiple rate cards, it will reference the rate card to which it was most recently assigned. It is not exposed to end customers."},"custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}},"UpdateRateCardPayload":{"type":"object","required":["rate_card_id"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"name":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"description":{"type":"string"},"aliases":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}},"description":"Reference this alias when creating a contract. If the same alias is assigned to multiple rate cards, it will reference the rate card to which it was most recently assigned. It is not exposed to end customers."},"custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}},"AddRatePayload":{"type":"object","required":["rate_card_id","product_id","starting_at","entitled","rate_type"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"product_id":{"type":"string","format":"uuid","description":"ID of the product to add a rate for"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"},"description":"Optional. List of pricing group key value pairs which will be used to calculate the price."},"starting_at":{"type":"string","format":"date-time","description":"inclusive effective date"},"ending_before":{"type":"string","format":"date-time","description":"exclusive end date"},"entitled":{"type":"boolean"},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT and SUBSCRIPTION rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"credit_type_id":{"type":"string","format":"uuid","example":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","description":"\"The Metronome ID of the credit type to associate with price, defaults to USD (cents) if not passed. Used by all rate_types except type PERCENTAGE. PERCENTAGE rates use the credit type of associated rates.\""},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."}}},"RatePayload":{"type":"object","required":["product_id","starting_at","entitled","rate_type"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to add a rate for"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"},"description":"Optional. List of pricing group key value pairs which will be used to calculate the price."},"starting_at":{"type":"string","format":"date-time","description":"inclusive effective date"},"ending_before":{"type":"string","format":"date-time","description":"exclusive end date"},"entitled":{"type":"boolean"},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT and SUBSCRIPTION rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"credit_type_id":{"type":"string","format":"uuid","example":"2714e483-4ff1-48e4-9e25-ac732e8f24f2","description":"\"The Metronome ID of the credit type to associate with price, defaults to USD (cents) if not passed. Used by all rate_types except type PERCENTAGE. PERCENTAGE rates use the credit type of associated rates.\""},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."}}},"SetRateCardProductsOrderPayload":{"type":"object","required":["rate_card_id","product_order"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"product_order":{"type":"array","items":{"type":"string","format":"uuid"}}}},"MoveRateCardProductsPayload":{"type":"object","required":["rate_card_id","product_moves"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to update"},"product_moves":{"type":"array","items":{"type":"object","required":["product_id","position"],"properties":{"product_id":{"type":"string","format":"uuid","description":"ID of the product to move"},"position":{"type":"number","description":"0-based index of the new position of the product","minimum":0}}}}}},"GetContractRateSchedulePayload":{"type":"object","required":["customer_id","contract_id"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer for whose contract to get the rate schedule for."},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to get the rate schedule for."},"at":{"type":"string","format":"date-time","description":"optional timestamp which overlaps with the returned rate schedule segments. When not specified, the current timestamp will be used."},"selectors":{"description":"List of rate selectors, rates matching ANY of the selectors will be included in the response. Passing no selectors will result in all rates being returned.","type":"array","items":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"product_tags":{"description":"List of product tags, rates matching any of the tags will be included in the response.","type":"array","items":{"type":"string"}},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}}}}},"GetRateSchedulePayload":{"type":"object","required":["rate_card_id","starting_at"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to get the schedule for"},"starting_at":{"type":"string","format":"date-time","description":"inclusive starting point for the rates schedule"},"ending_before":{"type":"string","format":"date-time","description":"optional exclusive end date for the rates schedule. When not specified rates will show all future schedule segments."},"selectors":{"description":"List of rate selectors, rates matching ANY of the selector will be included in the response Passing no selectors will result in all rates being returned.","type":"array","items":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}}}}},"GetRatesPayload":{"type":"object","required":["rate_card_id","at"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card to get the schedule for"},"at":{"type":"string","format":"date-time","description":"inclusive starting point for the rates schedule"},"selectors":{"description":"List of rate selectors, rates matching ANY of the selector will be included in the response Passing no selectors will result in all rates being returned.","type":"array","items":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"product_tags":{"description":"List of product tags, rates matching any of the tags will be included in the response.","type":"array","items":{"type":"string"}},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}}}}},"RateSelector":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}},"RateSelectorWithProductTags":{"type":"object","properties":{"product_id":{"description":"Rates matching the product id will be included in the response.","type":"string","format":"uuid"},"product_tags":{"description":"List of product tags, rates matching any of the tags will be included in the response.","type":"array","items":{"type":"string"}},"pricing_group_values":{"description":"List of pricing group key value pairs, rates matching all of the key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}},"partial_pricing_group_values":{"description":"List of pricing group key value pairs, rates containing the matching key / value pairs will be included in the response.","type":"object","additionalProperties":{"type":"string"}}}},"RateSchedule":{"type":"object","required":["product_id","product_name","product_tags","starting_at","entitled","rate"],"properties":{"product_id":{"type":"string","format":"uuid"},"product_name":{"type":"string"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}}},"ContractRateSchedule":{"type":"object","required":["rate_card_id","product_id","product_name","product_tags","product_custom_fields","starting_at","entitled","list_rate"],"properties":{"rate_card_id":{"type":"string","format":"uuid"},"product_id":{"type":"string","format":"uuid"},"product_name":{"type":"string"},"product_tags":{"type":"array","items":{"type":"string"}},"product_custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"list_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}}},"Rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","CUSTOM","custom","TIERED","tiered"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"use_list_prices":{"type":"boolean","description":"Only set for PERCENTAGE rate_type. Defaults to false. If true, rate is computed using list prices rather than the standard rates for this product on the contract."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"pricing_group_values":{"type":"object","description":"if pricing groups are used, this will contain the values used to calculate the price","additionalProperties":{"type":"string"}},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"OverrideSpecifierInput":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid","description":"If provided, the override will only apply to the product with the specified ID."},"product_tags":{"type":"array","items":{"type":"string"},"description":"If provided, the override will only apply to products with all the specified tags."},"pricing_group_values":{"type":"object","description":"A map of pricing group names to values. The override will only apply to products with the specified pricing group values.","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"A map of group names to values. The override will only apply to line items with the specified presentation group values. Can only be used for multiplier overrides.","additionalProperties":{"type":"string"}}}},"OverrideSpecifier":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}},"OverwriteRate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"OverwriteRateInput":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type_id":{"type":"string","format":"uuid"}}},"OverrideTier":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"OverrideTierInput":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"ContractWithoutAmendments":{"type":"object","required":["starting_at","commits","overrides","scheduled_charges","transitions","created_at","created_by","usage_statement_schedule"],"properties":{"name":{"type":"string"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"rate_card_id":{"type":"string","format":"uuid"},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"transitions":{"type":"array","items":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"ending_before":{"type":"string","format":"date-time"},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"usage_filter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}}}},"Contract":{"type":"object","required":["id","customer_id","initial","current","amendments"],"properties":{"id":{"type":"string","format":"uuid"},"customer_id":{"type":"string","format":"uuid"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"initial":{"type":"object","required":["starting_at","commits","overrides","scheduled_charges","transitions","created_at","created_by","usage_statement_schedule"],"properties":{"name":{"type":"string"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"rate_card_id":{"type":"string","format":"uuid"},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"transitions":{"type":"array","items":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"ending_before":{"type":"string","format":"date-time"},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"usage_filter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}}}},"current":{"type":"object","required":["starting_at","commits","overrides","scheduled_charges","transitions","created_at","created_by","usage_statement_schedule"],"properties":{"name":{"type":"string"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"rate_card_id":{"type":"string","format":"uuid"},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"transitions":{"type":"array","items":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"ending_before":{"type":"string","format":"date-time"},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"usage_filter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}}}},"amendments":{"type":"array","items":{"type":"object","required":["id","starting_at","commits","overrides","scheduled_charges","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time","nullable":true},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"custom_fields":{"x-cf-entity":"contract","type":"object","additionalProperties":{"type":"string"}},"customer_billing_provider_configuration":{"type":"object","description":"This field's availability is dependent on your client's configuration.","required":["billing_provider","delivery_method"],"properties":{"billing_provider":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"delivery_method":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]}}}}},"CreateContractPayload":{"type":"object","required":["customer_id","starting_at"],"properties":{"customer_id":{"type":"string","format":"uuid"},"name":{"type":"string"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"rate_card_id":{"type":"string","format":"uuid"},"rate_card_alias":{"type":"string","description":"Selects the rate card linked to the specified alias as of the contract's start date."},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time","description":"inclusive contract start time"},"ending_before":{"type":"string","format":"date-time","description":"exclusive contract end time"},"commits":{"type":"array","items":{"type":"object","required":["type","product_id"],"properties":{"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Required: Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match access_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule and invoice_schedule instead."},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"rollover_fraction":{"type":"number","description":"Fraction of unused segments that will be rolled over. Must be between 0 and 1."},"priority":{"type":"number","description":"If multiple commits are applicable, the one with the lower priority will apply first."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["product_id","access_schedule"],"properties":{"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"priority":{"type":"number","description":"If multiple credits are applicable, the one with the lower priority will apply first."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"multiplier_override_prioritization":{"type":"string","enum":["LOWEST_MULTIPLIER","lowest_multiplier","EXPLICIT","explicit"],"description":"Defaults to LOWEST_MULTIPLIER, which applies the greatest discount to list prices automatically. EXPLICIT prioritization requires specifying priorities for each multiplier; the one with the lowest priority value will be prioritized first. If tiered overrides are used, prioritization must be explicit."},"overrides":{"type":"array","items":{"type":"object","required":["starting_at"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will start applying (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will stop applying (exclusive)"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","overwrite","MULTIPLIER","multiplier","TIERED","tiered"],"description":"Overwrites are prioritized over multipliers and tiered overrides."},"multiplier":{"type":"number","description":"Required for MULTIPLIER type. Must be >=0."},"priority":{"type":"number","description":"Required for EXPLICIT multiplier prioritization scheme and all TIERED overrides. Under EXPLICIT prioritization, overwrites are prioritized first, and then tiered and multiplier overrides are prioritized by their priority value (lowest first). Must be > 0."},"overwrite_rate":{"description":"Required for OVERWRITE type.","type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type_id":{"type":"string","format":"uuid"}}},"product_id":{"type":"string","format":"uuid","description":"ID of the product whose rate is being overridden"},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"tags identifying products whose rates are being overridden"},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid","description":"If provided, the override will only apply to the product with the specified ID."},"product_tags":{"type":"array","items":{"type":"string"},"description":"If provided, the override will only apply to products with all the specified tags."},"pricing_group_values":{"type":"object","description":"A map of pricing group names to values. The override will only apply to products with the specified pricing group values.","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"A map of group names to values. The override will only apply to line items with the specified presentation group values. Can only be used for multiplier overrides.","additionalProperties":{"type":"string"}}}},"description":"Cannot be used in conjunction with product_id or applicable_product_tags. If provided, the override will apply to all products with the specified specifiers."},"tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"description":"Required for TIERED type. Must have at least one tier."}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","unit_price","quantity","max_amount"],"properties":{"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"transition":{"type":"object","required":["type","from_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL","supersede","renewal"],"description":"This field's available values may vary based on your client's configuration."},"from_contract_id":{"type":"string","format":"uuid"},"future_invoice_behavior":{"type":"object","properties":{"trueup":{"type":"string","enum":["remove","as_is","REMOVE","AS_IS"],"nullable":true,"description":"Controls whether future trueup invoices are billed or removed. Default behavior is AS_IS if not specified."}}}}},"usage_filter":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]},"day":{"type":"string","description":"If not provided, defaults to the first day of the month.","enum":["FIRST_OF_MONTH","first_of_month","CONTRACT_START","contract_start"]},"invoice_generation_starting_at":{"type":"string","format":"date-time","description":"The date Metronome should start generating usage invoices. If unspecified, contract start date will be used. This is useful to set if you want to import historical invoices via our 'Create Historical Invoices' API rather than having Metronome automatically generate them."}}},"custom_fields":{"x-cf-entity":"contract","type":"object","additionalProperties":{"type":"string"}},"billing_provider_configuration":{"type":"object","description":"This field's availability is dependent on your client's configuration.","properties":{"billing_provider_configuration_id":{"type":"string","format":"uuid","description":"The Metronome ID of the billing provider configuration"},"billing_provider":{"type":"string","enum":["aws_marketplace","azure_marketplace","gcp_marketplace","stripe","netsuite"]},"delivery_method":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]}}}}},"UsageStatementScheduleInput":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]},"day":{"type":"string","description":"If not provided, defaults to the first day of the month.","enum":["FIRST_OF_MONTH","first_of_month","CONTRACT_START","contract_start"]},"invoice_generation_starting_at":{"type":"string","format":"date-time","description":"The date Metronome should start generating usage invoices. If unspecified, contract start date will be used. This is useful to set if you want to import historical invoices via our 'Create Historical Invoices' API rather than having Metronome automatically generate them."}}},"UsageStatementSchedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]}}},"BaseUsageFilter":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"BaseUsageFilterWithRequiredStartingAt":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"UsageFilter":{"type":"object","required":["initial","current","updates"],"properties":{"initial":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"current":{"nullable":true,"allOf":[{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}]},"updates":{"type":"array","items":{"type":"object","required":["group_key","group_values","starting_at"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}}}}},"SetUsageFilterPayload":{"type":"object","required":["customer_id","contract_id","group_key","group_values","starting_at"],"properties":{"customer_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"},"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"ContractTransition":{"type":"object","required":["type","from_contract_id","to_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL"]},"from_contract_id":{"type":"string","format":"uuid"},"to_contract_id":{"type":"string","format":"uuid"}}},"ContractAmendment":{"type":"object","required":["id","starting_at","commits","overrides","scheduled_charges","created_at","created_by"],"properties":{"id":{"type":"string","format":"uuid"},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time"},"commits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time","nullable":true},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}},"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}},"ArchiveContractPayload":{"type":"object","required":["customer_id","contract_id","void_invoices"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose contract is to be archived"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to archive"},"void_invoices":{"type":"boolean","description":"If false, the existing finalized invoices will remain after the contract is archived."}}},"AmendContractPayload":{"type":"object","required":["customer_id","contract_id","starting_at"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose contract is to be amended"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to amend"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time","description":"inclusive start time for the amendment"},"commits":{"type":"array","items":{"type":"object","required":["type","product_id"],"properties":{"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Required: Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match access_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule and invoice_schedule instead."},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"rollover_fraction":{"type":"number","description":"Fraction of unused segments that will be rolled over. Must be between 0 and 1."},"priority":{"type":"number","description":"If multiple commits are applicable, the one with the lower priority will apply first."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["product_id","access_schedule"],"properties":{"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"priority":{"type":"number","description":"If multiple credits are applicable, the one with the lower priority will apply first."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"overrides":{"type":"array","items":{"type":"object","required":["starting_at"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will start applying (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will stop applying (exclusive)"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","overwrite","MULTIPLIER","multiplier","TIERED","tiered"],"description":"Overwrites are prioritized over multipliers and tiered overrides."},"multiplier":{"type":"number","description":"Required for MULTIPLIER type. Must be >=0."},"priority":{"type":"number","description":"Required for EXPLICIT multiplier prioritization scheme and all TIERED overrides. Under EXPLICIT prioritization, overwrites are prioritized first, and then tiered and multiplier overrides are prioritized by their priority value (lowest first). Must be > 0."},"overwrite_rate":{"description":"Required for OVERWRITE type.","type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type_id":{"type":"string","format":"uuid"}}},"product_id":{"type":"string","format":"uuid","description":"ID of the product whose rate is being overridden"},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"tags identifying products whose rates are being overridden"},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid","description":"If provided, the override will only apply to the product with the specified ID."},"product_tags":{"type":"array","items":{"type":"string"},"description":"If provided, the override will only apply to products with all the specified tags."},"pricing_group_values":{"type":"object","description":"A map of pricing group names to values. The override will only apply to products with the specified pricing group values.","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"A map of group names to values. The override will only apply to line items with the specified presentation group values. Can only be used for multiplier overrides.","additionalProperties":{"type":"string"}}}},"description":"Cannot be used in conjunction with product_id or applicable_product_tags. If provided, the override will apply to all products with the specified specifiers."},"tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"description":"Required for TIERED type. Must have at least one tier."}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","unit_price","quantity","max_amount"],"properties":{"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"description":"Use null to indicate that the existing end timestamp should be removed.","type":"string","nullable":true,"format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"custom_fields":{"x-cf-entity":"contract","type":"object","additionalProperties":{"type":"string"}}}},"CommitInput":{"type":"object","required":["type","product_id"],"properties":{"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Required: Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match access_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule and invoice_schedule instead."},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"rollover_fraction":{"type":"number","description":"Fraction of unused segments that will be rolled over. Must be between 0 and 1."},"priority":{"type":"number","description":"If multiple commits are applicable, the one with the lower priority will apply first."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}},"CreditInput":{"type":"object","required":["product_id","access_schedule"],"properties":{"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"priority":{"type":"number","description":"If multiple credits are applicable, the one with the lower priority will apply first."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}},"CreateCustomerCommitPayload":{"type":"object","required":["customer_id","type","priority","product_id","access_schedule"],"properties":{"customer_id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match accesss_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"invoice_contract_id":{"type":"string","format":"uuid","description":"The contract that this commit will be billed on. This is required for \"POSTPAID\" commits and for \"PREPAID\" commits unless there is no invoice schedule above (i.e., the commit is 'free')."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_contract_ids":{"type":"array","items":{"type":"string"},"description":"Which contract the commit applies to. If not provided, the commit applies to all contracts."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}},"CreateCustomerCreditPayload":{"type":"object","required":["customer_id","priority","product_id","access_schedule"],"properties":{"customer_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_contract_ids":{"type":"array","items":{"type":"string"},"description":"Which contract the credit applies to. If not provided, the credit applies to all contracts."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}},"Commit":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["PREPAID","POSTPAID"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits purposed with this commit.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"invoice_schedule":{"description":"The schedule that the customer will be invoiced for this commit.","type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"invoice_contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}},"description":"The contract that this commit will be billed on."},"rolled_over_from":{"type":"object","required":["contract_id","commit_id"],"properties":{"commit_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"}}},"description":{"type":"string"},"rollover_fraction":{"type":"number"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule + invoice_schedule instead."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"description":"A list of ordered events that impact the balance of a commit. For example, an invoice deduction or a rollover."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}},"Credit":{"type":"object","required":["id","type","product"],"properties":{"id":{"type":"string","format":"uuid"},"contract":{"type":"object","required":["id"],"properties":{"id":{"type":"string","format":"uuid"}}},"type":{"type":"string","enum":["CREDIT"]},"name":{"type":"string"},"priority":{"type":"number","description":"If multiple credits or commits are applicable, the one with the lower priority will apply first."},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"access_schedule":{"description":"The schedule that the customer will gain access to the credits.","type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"description":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_contract_ids":{"type":"array","items":{"type":"string","format":"uuid"}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"ledger":{"type":"array","items":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"description":"A list of ordered events that impact the balance of a credit. For example, an invoice deduction or an expiration."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}},"CommitLedger":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}}]},"CreditLedger":{"oneOf":[{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}}]},"PrepaidCommitSegmentStartLedgerEntry":{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},"PrepaidCommitAutomatedInvoiceDeductionLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},"PrepaidCommitRolloverLedgerEntry":{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},"PrepaidCommitExpirationLedgerEntry":{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},"PrepaidCommitCanceledLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},"PrepaidCommitCreditedLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},"PostpaidCommitAutomatedInvoiceDeductionLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},"PostpaidCommitInitialBalanceLedgerEntry":{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_INITIAL_BALANCE"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},"PostpaidCommitRolloverLedgerEntry":{"type":"object","required":["type","timestamp","amount","new_contract_id","segment_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_ROLLOVER"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"new_contract_id":{"type":"string","format":"uuid"}}},"PostpaidCommitTrueupLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_TRUEUP"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoice_id":{"type":"string","format":"uuid"}}},"PrepaidCommitManualLedgerEntry":{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["PREPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},"PostpaidCommitExpirationLedgerEntry":{"type":"object","required":["type","timestamp","amount"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"}}},"PostpaidCommitManualLedgerEntry":{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["POSTPAID_COMMIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},"CreditSegmentStartLedgerEntry":{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_SEGMENT_START"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},"CreditAutomatedInvoiceDeductionLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_AUTOMATED_INVOICE_DEDUCTION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},"CreditExpirationLedgerEntry":{"type":"object","required":["type","timestamp","amount","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_EXPIRATION"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"}}},"CreditCanceledLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CANCELED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},"CreditCreditedLedgerEntry":{"type":"object","required":["type","timestamp","amount","invoice_id","segment_id"],"properties":{"type":{"type":"string","enum":["CREDIT_CREDITED"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"segment_id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"}}},"CreditManualLedgerEntry":{"type":"object","required":["type","timestamp","amount","reason"],"properties":{"type":{"type":"string","enum":["CREDIT_MANUAL"]},"timestamp":{"type":"string","format":"date-time"},"amount":{"type":"number"},"reason":{"type":"string"}}},"PostpaidCommit":{"type":"object","required":["id"],"description":"only present for beta contract invoices","properties":{"id":{"type":"string","format":"uuid"}}},"OverrideInput":{"type":"object","required":["starting_at"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will start applying (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will stop applying (exclusive)"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","overwrite","MULTIPLIER","multiplier","TIERED","tiered"],"description":"Overwrites are prioritized over multipliers and tiered overrides."},"multiplier":{"type":"number","description":"Required for MULTIPLIER type. Must be >=0."},"priority":{"type":"number","description":"Required for EXPLICIT multiplier prioritization scheme and all TIERED overrides. Under EXPLICIT prioritization, overwrites are prioritized first, and then tiered and multiplier overrides are prioritized by their priority value (lowest first). Must be > 0."},"overwrite_rate":{"description":"Required for OVERWRITE type.","type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type_id":{"type":"string","format":"uuid"}}},"product_id":{"type":"string","format":"uuid","description":"ID of the product whose rate is being overridden"},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"tags identifying products whose rates are being overridden"},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid","description":"If provided, the override will only apply to the product with the specified ID."},"product_tags":{"type":"array","items":{"type":"string"},"description":"If provided, the override will only apply to products with all the specified tags."},"pricing_group_values":{"type":"object","description":"A map of pricing group names to values. The override will only apply to products with the specified pricing group values.","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"A map of group names to values. The override will only apply to line items with the specified presentation group values. Can only be used for multiplier overrides.","additionalProperties":{"type":"string"}}}},"description":"Cannot be used in conjunction with product_id or applicable_product_tags. If provided, the override will apply to all products with the specified specifiers."},"tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"description":"Required for TIERED type. Must have at least one tier."}}},"Override":{"type":"object","required":["id","starting_at"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid"},"product_tags":{"type":"array","items":{"type":"string"}},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string","nullable":true}}}}},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","MULTIPLIER","TIERED"]},"priority":{"type":"number"},"multiplier":{"type":"number"},"overwrite_rate":{"type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"override_tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}}},"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"value":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}}}},"DiscountInput":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}},"Discount":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}},"ProServiceInput":{"type":"object","required":["product_id","unit_price","quantity","max_amount"],"properties":{"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}},"ProService":{"type":"object","required":["id","product_id","unit_price","quantity","max_amount"],"properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}},"ScheduledChargeInput":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}},"ScheduledCharge":{"type":"object","required":["id","product","schedule"],"properties":{"id":{"type":"string","format":"uuid"},"product":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"schedule":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"scheduled_charge","type":"object","additionalProperties":{"type":"string"}}}},"ScheduleDurationInput":{"type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"ScheduleDuration":{"type":"object","required":["schedule_items"],"properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","amount","starting_at","ending_before"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"SchedulePointInTimeInput":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"SchedulePointInTime":{"type":"object","properties":{"credit_type":{"required":["name","id"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string","format":"uuid"}}},"schedule_items":{"type":"array","items":{"type":"object","required":["id","invoice_id","amount","unit_price","quantity","timestamp"],"properties":{"id":{"type":"string","format":"uuid"},"invoice_id":{"type":"string","format":"uuid"},"amount":{"type":"number"},"unit_price":{"type":"number"},"quantity":{"type":"number"},"timestamp":{"type":"string","format":"date-time"}}}}}},"ResellerType":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"ResellerRoyaltyInput":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}},"ResellerRoyaltyOrUpdateInput":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"description":"Use null to indicate that the existing end timestamp should be removed.","type":"string","nullable":true,"format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}},"ResellerRoyalty":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"applicable_product_tags":{"type":"array","items":{"type":"string"}},"applicable_product_ids":{"type":"array","items":{"type":"string"}},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}},"ResellerRoyaltyOrUpdate":{"type":"object","required":["reseller_type"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time","nullable":true},"reseller_contract_value":{"type":"number"},"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"},"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}},"ContractTransitionInput":{"type":"object","required":["type","from_contract_id"],"properties":{"type":{"type":"string","enum":["SUPERSEDE","RENEWAL","supersede","renewal"],"description":"This field's available values may vary based on your client's configuration."},"from_contract_id":{"type":"string","format":"uuid"},"future_invoice_behavior":{"type":"object","properties":{"trueup":{"type":"string","enum":["remove","as_is","REMOVE","AS_IS"],"nullable":true,"description":"Controls whether future trueup invoices are billed or removed. Default behavior is AS_IS if not specified."}}}}},"AddManualBalanceLedgerEntryPayload":{"type":"object","required":["customer_id","id","segment_id","amount","reason"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose balance is to be updated."},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to update. Leave blank to update a customer level balance."},"id":{"type":"string","format":"uuid","description":"ID of the balance (commit or credit) to update."},"segment_id":{"type":"string","format":"uuid","description":"ID of the segment to update."},"amount":{"type":"number","description":"Amount to add to the segment. A negative number will draw down from the balance."},"reason":{"type":"string","description":"Reason for the manual adjustment. This will be displayed in the ledger."},"timestamp":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the manual adjustment takes place. If not provided, it will default to the start of the segment."}}},"UpdateContractEndDatePayload":{"type":"object","required":["customer_id","contract_id"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose contract is to be updated"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract to update"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the contract will end (exclusive). If not provided, the contract will be updated to be open-ended."}}},"UpdateCommitEndDatePayload":{"type":"object","required":["customer_id","commit_id"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose commit is to be updated"},"commit_id":{"type":"string","format":"uuid","description":"ID of the commit to update. Only supports \"PREPAID\" commits."},"access_ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when access to the commit will end and it will no longer be possible to draw it down (exclusive). If not provided, the access will not be updated."},"invoices_ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the commit will stop being invoiced (exclusive). If not provided, the invoice schedule will not be updated."}}},"UpdateCreditEndDatePayload":{"type":"object","required":["customer_id","credit_id","access_ending_before"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose credit is to be updated"},"credit_id":{"type":"string","format":"uuid","description":"ID of the commit to update"},"access_ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when access to the credit will end and it will no longer be possible to draw it down (exclusive)."}}},"CustomerAndContract":{"required":["ingest_aliases","customer_id","customer_name","contract_id"],"type":"object","properties":{"customer_id":{"type":"string","format":"uuid","description":"the Metronome ID of the customer"},"ingest_aliases":{"type":"array","description":"aliases for this customer that can be used instead of the Metronome customer ID in usage events","items":{"type":"string"}},"customer_name":{"type":"string"},"custom_fields":{"x-cf-entity":"customer","type":"object","additionalProperties":{"type":"string"}},"contract_id":{"type":"string","format":"uuid"}}},"SetCustomerBillableStatusPayload":{"type":"object","required":["customer_id","billable_status","effective_at"],"properties":{"customer_id":{"type":"string","format":"uuid"},"billable_status":{"type":"string","enum":["billable","unbillable"]},"effective_at":{"type":"string","format":"date-time"}}},"CreateCustomerWithContractPayload":{"type":"object","required":["contract","customer"],"properties":{"customer":{"required":["name"],"type":"object","properties":{"ingest_aliases":{"type":"array","description":"Aliases that can be used to refer to this customer in usage events","items":{"type":"string","minLength":1,"maxLength":128},"maxItems":2000},"name":{"type":"string","description":"This will be truncated to 160 characters if the provided name is longer."},"billing_config":{"required":["billing_provider_type","billing_provider_customer_id"],"type":"object","properties":{"billing_provider_type":{"type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"billing_provider_customer_id":{"type":"string"},"stripe_collection_method":{"type":"string","enum":["charge_automatically","send_invoice"]},"aws_product_code":{"type":"string"},"aws_region":{"type":"string","enum":["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-west-1","us-west-2"]}}},"custom_fields":{"x-cf-entity":"customer","type":"object","additionalProperties":{"type":"string"}}}},"contract":{"type":"object","required":["starting_at"],"properties":{"name":{"type":"string"},"uniqueness_key":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"salesforce_opportunity_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"net_payment_terms_days":{"type":"number"},"rate_card_id":{"type":"string","format":"uuid"},"rate_card_alias":{"type":"string","description":"Selects the rate card linked to the specified alias as of the contract's start date."},"total_contract_value":{"type":"number","description":"This field's availability is dependent on your client's configuration."},"starting_at":{"type":"string","format":"date-time","description":"inclusive contract start time"},"ending_before":{"type":"string","format":"date-time","description":"exclusive contract end time"},"commits":{"type":"array","items":{"type":"object","required":["type","product_id"],"properties":{"type":{"type":"string","enum":["PREPAID","prepaid","POSTPAID","postpaid"]},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Required: Schedule for distributing the commit to the customer. For \"POSTPAID\" commits only one schedule item is allowed and amount must match invoice_schedule total.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"invoice_schedule":{"description":"Required for \"POSTPAID\" commits: the true up invoice will be generated at this time and only one schedule item is allowed; the total must match access_schedule amount. Optional for \"PREPAID\" commits: if not provided, this will be a \"complimentary\" commit with no invoice.","type":"object","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"amount":{"type":"number","description":"(DEPRECATED) Use access_schedule and invoice_schedule instead."},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"rollover_fraction":{"type":"number","description":"Fraction of unused segments that will be rolled over. Must be between 0 and 1."},"priority":{"type":"number","description":"If multiple commits are applicable, the one with the lower priority will apply first."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the commit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the commit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"custom_fields":{"x-cf-entity":"commit","type":"object","additionalProperties":{"type":"string"}}}}},"credits":{"type":"array","items":{"type":"object","required":["product_id","access_schedule"],"properties":{"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"product_id":{"type":"string","format":"uuid"},"access_schedule":{"description":"Schedule for distributing the credit to the customer.","type":"object","required":["schedule_items"],"properties":{"credit_type_id":{"type":"string","format":"uuid"},"schedule_items":{"type":"array","items":{"type":"object","required":["amount","starting_at","ending_before"],"properties":{"amount":{"type":"number"},"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)"}}}}}},"description":{"type":"string","description":"Used only in UI/API. It is not exposed to end customers."},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Which products the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Which tags the credit applies to. If both applicable_product_ids and applicable_product_tags are not provided, the credit applies to all products."},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"priority":{"type":"number","description":"If multiple credits are applicable, the one with the lower priority will apply first."},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}}}}},"multiplier_override_prioritization":{"type":"string","enum":["LOWEST_MULTIPLIER","lowest_multiplier","EXPLICIT","explicit"],"description":"Defaults to LOWEST_MULTIPLIER, which applies the greatest discount to list prices automatically. EXPLICIT prioritization requires specifying priorities for each multiplier; the one with the lowest priority value will be prioritized first."},"overrides":{"type":"array","items":{"type":"object","required":["starting_at"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will start applying (inclusive)"},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp indicating when the override will stop applying (exclusive)"},"entitled":{"type":"boolean"},"type":{"type":"string","enum":["OVERWRITE","overwrite","MULTIPLIER","multiplier","TIERED","tiered"],"description":"Overwrites are prioritized over multipliers and tiered overrides."},"multiplier":{"type":"number","description":"Required for MULTIPLIER type. Must be >=0."},"priority":{"type":"number","description":"Required for EXPLICIT multiplier prioritization scheme and all TIERED overrides. Under EXPLICIT prioritization, overwrites are prioritized first, and then tiered and multiplier overrides are prioritized by their priority value (lowest first). Must be > 0."},"overwrite_rate":{"description":"Required for OVERWRITE type.","type":"object","required":["rate_type"],"properties":{"rate_type":{"type":"string","enum":["FLAT","flat","PERCENTAGE","percentage","SUBSCRIPTION","subscription","TIERED","tiered","CUSTOM","custom"]},"price":{"type":"number","description":"Default price. For FLAT rate_type, this must be >=0. For PERCENTAGE rate_type, this is a decimal fraction, e.g. use 0.1 for 10%; this must be >=0 and <=1."},"quantity":{"type":"number","description":"Default quantity. For SUBSCRIPTION rate_type, this must be >=0."},"is_prorated":{"type":"boolean","description":"Default proration configuration. Only valid for SUBSCRIPTION rate_type."},"tiers":{"type":"array","items":{"type":"object","required":["price"],"properties":{"size":{"type":"number"},"price":{"type":"number"}}},"description":"Only set for TIERED rate_type."},"custom_rate":{"type":"object","additionalProperties":true,"description":"Only set for CUSTOM rate_type. This field is interpreted by custom rate processors."},"credit_type_id":{"type":"string","format":"uuid"}}},"product_id":{"type":"string","format":"uuid","description":"ID of the product whose rate is being overridden"},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"tags identifying products whose rates are being overridden"},"override_specifiers":{"type":"array","items":{"type":"object","properties":{"product_id":{"type":"string","format":"uuid","description":"If provided, the override will only apply to the product with the specified ID."},"product_tags":{"type":"array","items":{"type":"string"},"description":"If provided, the override will only apply to products with all the specified tags."},"pricing_group_values":{"type":"object","description":"A map of pricing group names to values. The override will only apply to products with the specified pricing group values.","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","description":"A map of group names to values. The override will only apply to line items with the specified presentation group values. Can only be used for multiplier overrides.","additionalProperties":{"type":"string"}}}},"description":"Cannot be used in conjunction with product_id or applicable_product_tags. If provided, the override will apply to all products with the specified specifiers."},"tiers":{"type":"array","items":{"type":"object","required":["multiplier"],"properties":{"size":{"type":"number"},"multiplier":{"type":"number"}}},"description":"Required for TIERED type. Must have at least one tier."}}}},"discounts":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"reseller_royalties":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["reseller_type","starting_at","fraction","netsuite_reseller_id"],"properties":{"reseller_type":{"type":"string","enum":["AWS","AWS_PRO_SERVICE","GCP","GCP_PRO_SERVICE"]},"fraction":{"type":"number"},"netsuite_reseller_id":{"type":"string"},"applicable_product_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"applicable_product_tags":{"type":"array","items":{"type":"string"},"description":"Must provide at least one of applicable_product_ids or applicable_product_tags."},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"reseller_contract_value":{"type":"number"},"aws_options":{"type":"object","properties":{"aws_account_number":{"type":"string"},"aws_payer_reference_id":{"type":"string"},"aws_offer_id":{"type":"string"}}},"gcp_options":{"type":"object","properties":{"gcp_account_id":{"type":"string"},"gcp_offer_id":{"type":"string"}}}}}},"professional_services":{"type":"array","description":"This field's availability is dependent on your client's configuration.","items":{"type":"object","required":["product_id","unit_price","quantity","max_amount"],"properties":{"description":{"type":"string"},"product_id":{"type":"string","format":"uuid"},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount."},"max_amount":{"type":"number","description":"Maximum amount for the term."},"custom_fields":{"x-cf-entity":"professional_service","type":"object","additionalProperties":{"type":"string"}}}}},"scheduled_charges":{"type":"array","items":{"type":"object","required":["product_id","schedule"],"properties":{"product_id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":1,"description":"displayed on invoices"},"schedule":{"type":"object","description":"Must provide either schedule_items or recurring_schedule.","properties":{"credit_type_id":{"type":"string","format":"uuid","description":"Defaults to USD if not passed. Only USD is supported at this time."},"schedule_items":{"type":"array","description":"Either provide amount or provide both unit_price and quantity.","items":{"type":"object","required":["timestamp"],"properties":{"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"timestamp":{"type":"string","format":"date-time","description":"timestamp of the scheduled event"}}}},"recurring_schedule":{"type":"object","description":"Enter the unit price and quantity for the charge or instead only send the amount. If amount is sent, the unit price is assumed to be the amount and quantity is inferred to be 1.","required":["starting_at","ending_before","frequency","amount_distribution"],"properties":{"starting_at":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (inclusive)."},"ending_before":{"type":"string","format":"date-time","description":"RFC 3339 timestamp (exclusive)."},"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly","SEMI_ANNUAL","semi_annual","ANNUAL","annual"]},"unit_price":{"type":"number","description":"Unit price for the charge. Will be multiplied by quantity to determine the amount and must be specified with quantity. If specified amount cannot be provided."},"quantity":{"type":"number","description":"Quantity for the charge. Will be multiplied by unit_price to determine the amount and must be specified with unit_price. If specified amount cannot be provided."},"amount":{"type":"number","description":"Amount for the charge. Can be provided instead of unit_price and quantity. If amount is sent, the unit_price is assumed to be the amount and quantity is inferred to be 1."},"amount_distribution":{"type":"string","enum":["DIVIDED","divided","DIVIDED_ROUNDED","divided_rounded","EACH","each"]}}}}},"netsuite_sales_order_id":{"type":"string","description":"This field's availability is dependent on your client's configuration."}}}},"usage_filter":{"type":"object","required":["group_key","group_values"],"properties":{"group_key":{"type":"string"},"group_values":{"type":"array","items":{"type":"string"}},"starting_at":{"type":"string","format":"date-time"}}},"usage_statement_schedule":{"type":"object","required":["frequency"],"properties":{"frequency":{"type":"string","enum":["MONTHLY","monthly","QUARTERLY","quarterly"]},"day":{"type":"string","description":"If not provided, defaults to the first day of the month.","enum":["FIRST_OF_MONTH","first_of_month","CONTRACT_START","contract_start"]},"invoice_generation_starting_at":{"type":"string","format":"date-time","description":"The date Metronome should start generating usage invoices. If unspecified, contract start date will be used. This is useful to set if you want to import historical invoices via our 'Create Historical Invoices' API rather than having Metronome automatically generate them."}}},"custom_fields":{"x-cf-entity":"contract_credit","type":"object","additionalProperties":{"type":"string"}},"billing_provider_configuration":{"type":"object","description":"This field's availability is dependent on your client's configuration.","properties":{"billing_provider_configuration_id":{"type":"string","format":"uuid","description":"The Metronome ID of the billing provider configuration"},"billing_provider":{"type":"string","enum":["aws_marketplace","azure_marketplace","gcp_marketplace","stripe","netsuite"]},"delivery_method":{"type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]}}}}}}},"CustomerBillingProviderConfiguration":{"type":"object","required":["id","billing_provider","customer_id","configuration","delivery_method_id","delivery_method","delivery_method_configuration"],"properties":{"billing_provider":{"description":"The billing provider set for this configuration.","type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"customer_id":{"type":"string","format":"uuid"},"configuration":{"type":"object","additionalProperties":true,"description":"Configuration for the billing provider. The structure of this object is specific to the billing provider."},"delivery_method_id":{"type":"string","format":"uuid","description":"ID of the delivery method to use for this customer."},"delivery_method":{"description":"The method to use for delivering invoices to this customer.","type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]},"delivery_method_configuration":{"type":"object","additionalProperties":true,"description":"Configuration for the delivery method. The structure of this object is specific to the delivery method."}}},"BillingProviderDeliveryMethod":{"type":"object","required":["billing_provider","delivery_method_id","delivery_method","delivery_method_configuration"],"properties":{"billing_provider":{"description":"The billing provider set for this configuration.","type":"string","enum":["aws_marketplace","stripe","netsuite","custom","azure_marketplace","quickbooks_online","workday","gcp_marketplace"]},"delivery_method_id":{"type":"string","format":"uuid","description":"ID of the delivery method to use for this customer."},"delivery_method":{"description":"The method to use for delivering invoices to this customer.","type":"string","enum":["direct_to_billing_provider","aws_sqs","tackle","aws_sns"]},"delivery_method_configuration":{"type":"object","additionalProperties":true,"description":"Configuration for the delivery method. The structure of this object is specific to the delivery method. Some configuration may be omitted for security reasons."}}},"UpdateCustomerNamedSchedulePayload":{"type":"object","required":["customer_id","schedule_name","starting_at","value"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be updated"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be updated"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"value":{"description":"The value to set for the named schedule. The structure of this object is specific to the named schedule."}}},"GetCustomerNamedSchedulePayload":{"type":"object","required":["customer_id","schedule_name"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be retrieved"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be retrieved"},"covering_date":{"type":"string","format":"date-time","description":"If provided, at most one schedule segment will be returned (the one that covers this date). If not provided, all segments will be returned."}}},"UpdateContractNamedSchedulePayload":{"type":"object","required":["customer_id","contract_id","schedule_name","starting_at","value"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be updated"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract whose named schedule is to be updated"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be updated"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"value":{"description":"The value to set for the named schedule. The structure of this object is specific to the named schedule."}}},"GetContractNamedSchedulePayload":{"type":"object","required":["customer_id","contract_id","schedule_name"],"properties":{"customer_id":{"type":"string","format":"uuid","description":"ID of the customer whose named schedule is to be retrieved"},"contract_id":{"type":"string","format":"uuid","description":"ID of the contract whose named schedule is to be retrieved"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be retrieved"},"covering_date":{"type":"string","format":"date-time","description":"If provided, at most one schedule segment will be returned (the one that covers this date). If not provided, all segments will be returned."}}},"UpdateRateCardNamedSchedulePayload":{"type":"object","required":["rate_card_id","schedule_name","starting_at","value"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card whose named schedule is to be updated"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be updated"},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"},"value":{"description":"The value to set for the named schedule. The structure of this object is specific to the named schedule."}}},"GetRateCardNamedSchedulePayload":{"type":"object","required":["rate_card_id","schedule_name"],"properties":{"rate_card_id":{"type":"string","format":"uuid","description":"ID of the rate card whose named schedule is to be retrieved"},"schedule_name":{"type":"string","description":"The identifier for the schedule to be retrieved"},"covering_date":{"type":"string","format":"date-time","description":"If provided, at most one schedule segment will be returned (the one that covers this date). If not provided, all segments will be returned."}}},"NamedSchedule":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"type":"object","required":["starting_at","value"],"properties":{"value":{},"starting_at":{"type":"string","format":"date-time"},"ending_before":{"type":"string","format":"date-time"}}}}}},"UniquenessKey":{"type":"string","minLength":1,"maxLength":128,"description":"Prevents the creation of duplicates. If a request to create a record is made with a previously used uniqueness key, a new record will not be created and the request will fail with a 409 error."},"BillableMetricV1":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","format":"uuid","description":"ID of the billable metric"},"name":{"type":"string","description":"The display name of the billable metric."},"event_type_filter":{"type":"object","properties":{"in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly included in the billable metric. If specified, only events of these types will match the billable metric. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly excluded from the billable metric. If specified, events of these types will not match the billable metric. Must be non-empty if present."}},"description":"An optional filtering rule to match the 'event_type' property of an event."},"property_filters":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"The name of the event property."},"exists":{"type":"boolean","description":"Determines whether the property must exist in the event. If true, only events with this property will pass the filter. If false, only events without this property will pass the filter. If null or omitted, the existence of the property is optional."},"in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the allowed values for the property to match an event. An event will pass the filter only if its property value is included in this list. If undefined, all property values will pass the filter. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the values that prevent an event from matching the filter. An event will not pass the filter if its property value is included in this list. If null or empty, all property values will pass the filter. Must be non-empty if present."}}},"description":"A list of filters to match events to this billable metric. Each filter defines a rule on an event property. All rules must pass for the event to match the billable metric."},"aggregation_type":{"type":"string","enum":["count","Count","COUNT","latest","Latest","LATEST","max","Max","MAX","sum","Sum","SUM","unique","Unique","UNIQUE"],"description":"Specifies the type of aggregation performed on matching events."},"aggregation_key":{"type":"string","description":"A key that specifies which property of the event is used to aggregate data. This key must be one of the property filter names and is not applicable when the aggregation type is 'count'."},"group_keys":{"type":"array","items":{"type":"array","items":{"type":"string"}},"description":"Property names that are used to group usage costs on an invoice. Each entry represents a set of properties used to slice events into distinct buckets."},"custom_fields":{"type":"object","additionalProperties":{"type":"string"}},"sql":{"type":"string","description":"The SQL query associated with the billable metric"}}},"CreateBillableMetricV1Payload":{"type":"object","required":["name","aggregation_type"],"properties":{"name":{"type":"string","description":"The display name of the billable metric."},"event_type_filter":{"type":"object","properties":{"in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly included in the billable metric. If specified, only events of these types will match the billable metric. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly excluded from the billable metric. If specified, events of these types will not match the billable metric. Must be non-empty if present."}},"description":"An optional filtering rule to match the 'event_type' property of an event."},"property_filters":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"The name of the event property."},"exists":{"type":"boolean","description":"Determines whether the property must exist in the event. If true, only events with this property will pass the filter. If false, only events without this property will pass the filter. If null or omitted, the existence of the property is optional."},"in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the allowed values for the property to match an event. An event will pass the filter only if its property value is included in this list. If undefined, all property values will pass the filter. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the values that prevent an event from matching the filter. An event will not pass the filter if its property value is included in this list. If null or empty, all property values will pass the filter. Must be non-empty if present."}}},"description":"A list of filters to match events to this billable metric. Each filter defines a rule on an event property. All rules must pass for the event to match the billable metric."},"aggregation_type":{"type":"string","enum":["count","Count","COUNT","latest","Latest","LATEST","max","Max","MAX","sum","Sum","SUM","unique","Unique","UNIQUE"],"description":"Specifies the type of aggregation performed on matching events."},"aggregation_key":{"type":"string","description":"A key that specifies which property of the event is used to aggregate data. This key must be one of the property filter names and is not applicable when the aggregation type is 'count'."},"group_keys":{"type":"array","items":{"type":"array","items":{"type":"string"}},"description":"Property names that are used to group usage costs on an invoice. Each entry represents a set of properties used to slice events into distinct buckets."},"custom_fields":{"description":"Custom fields to attach to the billable metric.","type":"object","additionalProperties":{"type":"string"}}}},"PropertyFiltersArray":{"type":"array","items":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"The name of the event property."},"exists":{"type":"boolean","description":"Determines whether the property must exist in the event. If true, only events with this property will pass the filter. If false, only events without this property will pass the filter. If null or omitted, the existence of the property is optional."},"in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the allowed values for the property to match an event. An event will pass the filter only if its property value is included in this list. If undefined, all property values will pass the filter. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the values that prevent an event from matching the filter. An event will not pass the filter if its property value is included in this list. If null or empty, all property values will pass the filter. Must be non-empty if present."}}},"description":"A list of filters to match events to this billable metric. Each filter defines a rule on an event property. All rules must pass for the event to match the billable metric."},"AggregationType":{"type":"string","enum":["count","Count","COUNT","latest","Latest","LATEST","max","Max","MAX","sum","Sum","SUM","unique","Unique","UNIQUE"],"description":"Specifies the type of aggregation performed on matching events."},"AggregationKey":{"type":"string","description":"A key that specifies which property of the event is used to aggregate data. This key must be one of the property filter names and is not applicable when the aggregation type is 'count'."},"GroupKeysArray":{"type":"array","items":{"type":"array","items":{"type":"string"}},"description":"Property names that are used to group usage costs on an invoice. Each entry represents a set of properties used to slice events into distinct buckets."},"EventTypeFilter":{"type":"object","properties":{"in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly included in the billable metric. If specified, only events of these types will match the billable metric. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"A list of event types that are explicitly excluded from the billable metric. If specified, events of these types will not match the billable metric. Must be non-empty if present."}},"description":"An optional filtering rule to match the 'event_type' property of an event."},"PropertyFilter":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"The name of the event property."},"exists":{"type":"boolean","description":"Determines whether the property must exist in the event. If true, only events with this property will pass the filter. If false, only events without this property will pass the filter. If null or omitted, the existence of the property is optional."},"in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the allowed values for the property to match an event. An event will pass the filter only if its property value is included in this list. If undefined, all property values will pass the filter. Must be non-empty if present."},"not_in_values":{"type":"array","items":{"type":"string"},"description":"Specifies the values that prevent an event from matching the filter. An event will not pass the filter if its property value is included in this list. If null or empty, all property values will pass the filter. Must be non-empty if present."}}},"CreateHistoricalContractUsageInvoiceRequestPayload":{"type":"object","required":["invoices","preview"],"properties":{"invoices":{"type":"array","items":{"type":"object","required":["customer_id","contract_id","credit_type_id","inclusive_start_date","exclusive_end_date","issue_date","usage_line_items"],"properties":{"customer_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"},"credit_type_id":{"type":"string","format":"uuid"},"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"issue_date":{"type":"string","format":"date-time"},"breakdown_granularity":{"type":"string","enum":["hour","day","HOUR","DAY","Hour","Day"]},"usage_line_items":{"type":"array","items":{"type":"object","required":["product_id","inclusive_start_date","exclusive_end_date"],"properties":{"product_id":{"type":"string","format":"uuid"},"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"quantity":{"type":"number"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string"}},"subtotals_by_time":{"type":"array","items":{"type":"object","required":["inclusive_start_date","exclusive_end_date","quantity"],"properties":{"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"quantity":{"type":"number"}}}}}}},"billable_status":{"description":"This field's availability is dependent on your client's configuration.","type":"string","enum":["billable","unbillable"]},"custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}}},"preview":{"type":"boolean"}}},"HistoricalContractUsageInvoiceInputPayload":{"type":"object","required":["customer_id","contract_id","credit_type_id","inclusive_start_date","exclusive_end_date","issue_date","usage_line_items"],"properties":{"customer_id":{"type":"string","format":"uuid"},"contract_id":{"type":"string","format":"uuid"},"credit_type_id":{"type":"string","format":"uuid"},"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"issue_date":{"type":"string","format":"date-time"},"breakdown_granularity":{"type":"string","enum":["hour","day","HOUR","DAY","Hour","Day"]},"usage_line_items":{"type":"array","items":{"type":"object","required":["product_id","inclusive_start_date","exclusive_end_date"],"properties":{"product_id":{"type":"string","format":"uuid"},"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"quantity":{"type":"number"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string"}},"subtotals_by_time":{"type":"array","items":{"type":"object","required":["inclusive_start_date","exclusive_end_date","quantity"],"properties":{"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"quantity":{"type":"number"}}}}}}},"billable_status":{"description":"This field's availability is dependent on your client's configuration.","type":"string","enum":["billable","unbillable"]},"custom_fields":{"type":"object","additionalProperties":{"type":"string"}}}},"HistoricalContractUsageInvoiceLineItemInput":{"type":"object","required":["product_id","inclusive_start_date","exclusive_end_date"],"properties":{"product_id":{"type":"string","format":"uuid"},"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"quantity":{"type":"number"},"pricing_group_values":{"type":"object","additionalProperties":{"type":"string"}},"presentation_group_values":{"type":"object","additionalProperties":{"type":"string"}},"subtotals_by_time":{"type":"array","items":{"type":"object","required":["inclusive_start_date","exclusive_end_date","quantity"],"properties":{"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"quantity":{"type":"number"}}}}}},"HistoricalContractUsageInvoiceLineItemBreakdownSubtotal":{"type":"object","required":["inclusive_start_date","exclusive_end_date","quantity"],"properties":{"inclusive_start_date":{"type":"string","format":"date-time"},"exclusive_end_date":{"type":"string","format":"date-time"},"quantity":{"type":"number"}}},"PricingGroupKey":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. If set, pricing for this product will be determined for each pricing_group_key value, as opposed to the product as a whole."},"PresentationGroupKey":{"type":"array","items":{"type":"string"},"description":"For USAGE products only. Groups usage line items on invoices."}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"Customers","description":"[Customers](https://docs.metronome.com/provisioning/create-customers/) in Metronome represent your users for all billing and reporting. Use these endpoints to create, retrieve, update, and archive customers and their billing configuration."},{"name":"Usage","description":"[Usage events](https://docs.metronome.com/connecting-metronome/send-usage-data/) are the basis for billable metrics. Use these endpoints to send usage events to Metronome and retrieve aggregated event data."},{"name":"Plans","description":"[Plans](https://docs.metronome.com/pricing-and-packaging/create-plans/) determine the base pricing for a customer. Use these endpoints to add a plan to a customer, end a customer plan, retrieve plans, and retrieve plan details. Create plans in the [Metronome app](https://app.metronome.com/plans)."},{"name":"Invoices","description":"[Invoices](https://docs.metronome.com/invoicing/) reflect how much a customer spent during a period, which is the basis for billing. Metronome automatically generates invoices based upon your pricing, packaging, and usage events. Use these endpoints to retrieve invoices."},{"name":"Credit grants","description":"[Credit grants](https://docs.metronome.com/invoicing/how-billing-works/manage-credits/) adjust a customer balance for prepayments, reimbursements, promotions, and so on. Use these endpoints to create, retrieve, update, and delete credit grants."},{"name":"Alerts","description":"[Alerts](https://docs.metronome.com/connecting-metronome/alerts/) monitor customer spending, balances, and other billing factors. Use these endpoints to create, retrieve, and archive customer alerts."},{"name":"Billable metrics","description":"[Billable metrics](https://docs.metronome.com/understanding-metronome/how-metronome-works#billable-metrics) in Metronome represent the various consumption components that Metronome meters and aggregates. These metrics appear as line items and sub-line items on an invoice and each has a unique price per unit."},{"name":"Custom fields","description":"[Custom fields](https://docs.metronome.com/integrations/custom-fields/) enable adding additional data to Metronome entities. Use these endpoints to create, retrieve, update, and delete custom fields."},{"name":"Contracts","description":"Contracts provide an alternative to plans for provisioning and invoicing customers. Use these endpoints to create and update contracts data."},{"name":"Security","description":"[Security](https://docs.metronome.com/developer-resources/security/) endpoints allow you to retrieve security-related data."},{"name":"Settings","description":"Use these endpoints to configure a billing API key, a webhook secret, or invoice finalization behavior."},{"name":"Named schedules","description":"Named schedules are used for storing custom data that can change over time. Named schedules are often used in custom pricing logic."}],"security":[{"bearerAuth":[]}]}